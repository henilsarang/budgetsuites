(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,a){e.exports=a.p+"static/media/homeImage7.066bdae8.jpg"},104:function(e,t,a){e.exports=a.p+"static/media/homeImage7.066bdae8.jpg"},124:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},250:function(e,t,a){e.exports=a.p+"static/media/logo.e5eeb453.png"},251:function(e,t,a){e.exports=a.p+"static/media/homeImage14.fe990491.jpeg"},254:function(e,t,a){e.exports=a.p+"static/media/homeImage.3ededb3f.jpg"},256:function(e,t,a){e.exports=a.p+"static/media/homeImage14.fe990491.jpeg"},260:function(e,t,a){e.exports=a(536)},265:function(e,t,a){},283:function(e,t,a){},302:function(e,t){},394:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){},398:function(e,t,a){},536:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),s=a.n(l),o=(a(265),a(9)),c=a(12),i=a(11),m=a(10),d=a(561),u=a(560),h=a(19),p=a(564),g=a(17),E=a(537),v=a(563),f=a(538),y=a(539),b=a(540),w=a(541),_=a(542),k=a(543),N=a(544),S=a(545),x=a(562),C=a(546),O=a(547),P=a(548),D=a(15),j=a.n(D),I=function(){return j.a.get("/api/verifyuser").then((function(e){"S"===e.data?localStorage.setItem("accesstoken",e.data):localStorage.removeItem("accesstoken")})).catch((function(e){return console.log("error",e)}))},R=(a(283),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).register=function(t){(t.preventDefault(),e.validate())&&function(e){return j.a.post("/api/register",{firstname:e.firstname,lastname:e.lastname,email:e.email,password:e.password}).then((function(e){return 200===e.status&&localStorage.setItem("accesstoken",e.data),e.status})).catch((function(e){return e.response.status}))}({firstname:e.state.fields.firstname,lastname:e.state.fields.lastname,email:e.state.fields.email,password:e.state.fields.password}).then((function(t){200===t?e.setState({email_duplicate_error:!1},(function(){return e.pushtoCurrentURL()})):400===t&&e.setState({email_duplicate_error:!0},(function(){return e.pushtoCurrentURL()}))}))},e.state={modal:!1,fields:{firstname:"",lastname:"",email:"",password:"",repassword:""},errors:{},password_error:[],email_duplicate_error:!1,passwordCheck:[{req:"\u2265 8 characters",valid:!1},{req:"At least 1 uppercase letter",valid:!1},{req:"At least 1 lowercase letter",valid:!1},{req:"At least 1 special character !@#$%^&*",valid:!1}]},e.toggle=e.toggle.bind(Object(h.a)(e)),e.updateFields=e.updateFields.bind(Object(h.a)(e)),e.register=e.register.bind(Object(h.a)(e)),e.passwordChecker=e.passwordChecker.bind(Object(h.a)(e)),e}return Object(c.a)(a,[{key:"updateFields",value:function(e){var t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t}),this.passwordChecker()}},{key:"passwordChecker",value:function(){var e=this.state.fields.password,t=this.state.passwordCheck;t[0].valid=e.length>=8,/(?=.*[A-Z])/.test(e)?t[1].valid=!0:t[1].valid=!1,/(?=.*[a-z])/.test(e)?t[2].valid=!0:t[2].valid=!1,/(?=.*[!@#$%^&*])/.test(e)?t[3].valid=!0:t[3].valid=!1,this.setState({passwordCheck:t})}},{key:"toggle",value:function(){this.setState(Object(g.a)(Object(g.a)({},this.state),{},{modal:!this.state.modal}))}},{key:"pushtoCurrentURL",value:function(){var e=this.props.location.pathname+this.props.location.search;this.props.history.push(e)}},{key:"validate",value:function(){var e=this.state.fields,t={},a=!0;(""===e.firstname&&(a=!1,t.firstname="*Please enter first name"),""!==e.firstname&&(e.firstname.match(/^[a-z A-Z]*$/)||(a=!1,t.firstname="*Please enter English characters only.")),""===e.lastname&&(a=!1,t.lastname="*Please enter last name"),""!==e.lastname&&(e.lastname.match(/^[a-zA-Z]*$/)||(a=!1,t.lastname="*Please enter English characters only.")),""===e.email&&(a=!1,t.email="*Please enter email"),""!==e.email)&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e.email)||(a=!1,t.email="*Please enter a valid email"));(""===e.password&&(a=!1,t.password="*Please enter a password"),""!==e.password)&&(new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$").test(e.password)?(""===e.repassword&&(a=!1,t.repassword="*Please re-enter password"),""!==e.repassword&&(e.repassword.match(e.password)||(a=!1,t.repassword="*Passwords must match"))):(a=!1,t.password="*This password does not meet the requirements"));return this.setState({errors:t,password_error:[]}),a}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"text-warning"},this.state.password_error.map((function(e){return r.a.createElement("div",null,e)}))),t=r.a.createElement("div",{className:"text-warning"}),a=r.a.createElement("div",{className:"text-warning"},"This email is already registered"),n=this.state.passwordCheck.map((function(e){return r.a.createElement("div",{key:e.req,className:e.valid?"valid-req":"invalid-req"},e.req)}));return r.a.createElement("div",null,r.a.createElement(E.a,{className:"/"===this.props.location.pathname||"/Confirmation"===this.props.location.pathname||"/recoverage"===this.props.location.pathname||"/Accesscode"===this.props.location.pathname?"navbar-register-button":"navbar-register-button-black",color:"primary-outline",onClick:this.toggle},"Register"),r.a.createElement(v.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(f.a,{toggle:this.toggle},"Registration"),r.a.createElement(y.a,null,r.a.createElement(b.a,{onSubmit:this.register},r.a.createElement(w.a,{form:!0},r.a.createElement(_.a,{md:6},r.a.createElement(k.a,null,r.a.createElement(N.a,null,"First Name"),r.a.createElement(S.a,{type:"text",name:"firstname",value:this.state.fields.firstname,onChange:this.updateFields,placeholder:"Albert",required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.firstname))),r.a.createElement(_.a,{md:6},r.a.createElement(k.a,null,r.a.createElement(N.a,null,"Last Name"),r.a.createElement(S.a,{type:"text",name:"lastname",value:this.state.fields.lastname,onChange:this.updateFields,placeholder:"Einstein",required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.lastname)))),r.a.createElement(k.a,null,r.a.createElement(N.a,null,"Email"),r.a.createElement(S.a,{type:"email",name:"email",value:this.state.fields.email,onChange:this.updateFields,placeholder:"guest@budgetsuites.com",required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.email),this.state.email_duplicate_error?a:t),r.a.createElement(k.a,null,r.a.createElement(N.a,null,"Password"),r.a.createElement(S.a,{id:"PopoverFocus",type:"password",name:"password",value:this.state.fields.password,onChange:this.updateFields,placeholder:"********",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$",required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.password),this.state.password_error?e:t,r.a.createElement(x.a,{trigger:"focus",placement:"right",target:"PopoverFocus"},r.a.createElement(C.a,null,"Password Requirements"),r.a.createElement(O.a,null,n))),r.a.createElement(k.a,null,r.a.createElement(N.a,null,"Re-enter Password"),r.a.createElement(S.a,{type:"password",name:"repassword",value:this.state.fields.repassword,onChange:this.updateFields,placeholder:"********",required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.repassword)))),r.a.createElement(P.a,null,r.a.createElement(E.a,{color:"primary",onClick:this.register},"Register"),r.a.createElement(E.a,{color:"secondary",onClick:this.toggle},"Close"))))}}]),a}(r.a.Component)),Y=Object(p.a)(R),T=a(250),M=a.n(T),q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).login=function(t){(t.preventDefault(),e.validate())&&function(e){return j.a.post("/api/login",{email:e.email,password:e.password}).then((function(e){return"S"===e.data&&localStorage.setItem("accesstoken",e.data),e.data})).catch((function(e){}))}({email:e.state.loginfields.email,password:e.state.loginfields.password}).then((function(t){var a="",n={password:""};"S"===t?(n.email="",a="","/recoverage"!==window.location.pathname&&"/Accesscode"!==window.location.pathname||e.props.history.push("/")):(a="*Please enter valid credentials (email or password) or reset password",e.setState({loginerror:a}),n.email=e.state.loginfields.email),e.setState({loginfields:n,loginerror:a},(function(){return e.pushtoCurrentURL()}))}))},e.state={loginfields:{email:"",password:""},emailerror:"",loginerror:""},e.updateFields=e.updateFields.bind(Object(h.a)(e)),e.login=e.login.bind(Object(h.a)(e)),e}return Object(c.a)(a,[{key:"compoenentDidMount",value:function(e){e.location.search===this.props.location.search&&e.location.state===this.props.location.state||I()}},{key:"componentDidUpdate",value:function(e){e.location.search===this.props.location.search&&e.location.state===this.props.location.state||I()}},{key:"updateFields",value:function(e){var t=this.state.loginfields;t[e.target.name]=e.target.value,this.setState({loginfields:t})}},{key:"pushtoCurrentURL",value:function(){var e=this.props.location.pathname+this.props.location.search;this.props.history.push(e)}},{key:"Home",value:function(e){e.preventDefault(),this.props.history.push("/")}},{key:"Logout",value:function(e){j.a.get("/api/logout").then((function(e){})),e.preventDefault(),localStorage.removeItem("accesstoken"),"/UserProfile"===window.location.pathname||"/Reservations"===window.location.pathname?this.props.history.push("/"):this.pushtoCurrentURL()}},{key:"ResetPassword",value:function(e){e.preventDefault(),this.props.history.push("/recoverage")}},{key:"UserProfile",value:function(e){e.preventDefault(),this.props.history.push("/UserProfile")}},{key:"Reservations",value:function(e){e.preventDefault(),this.props.history.push("/Reservations")}},{key:"validate",value:function(){var e=this.state.loginfields.email,t="",a=!0;""!==e&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e)||(a=!1,t="*Please enter valid email."));return this.setState({emailerror:t}),a}},{key:"render",value:function(){var e,t=r.a.createElement("div",null),a=r.a.createElement("div",{className:"col-auto",onClick:this.UserProfile.bind(this)},"My Profile"),n=r.a.createElement("div",{className:"col-auto",onClick:this.Reservations.bind(this)},"My Reservations"),l=r.a.createElement("div",{className:"col-auto",onClick:this.ResetPassword.bind(this)},"Reset Password"),s=r.a.createElement("div",null,r.a.createElement(b.a,{className:"form-inline my-2 my-lg-0",onSubmit:this.login},r.a.createElement("div",{className:"col-auto pl-0"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"form-inline my-2 my-lg-0"},r.a.createElement("div",{className:"text-warning"},this.state.loginerror)),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"email-icon input-group-text"},r.a.createElement("i",{className:"far fa-user"}))),r.a.createElement(k.a,null,r.a.createElement(S.a,{type:"text",name:"email",value:this.state.loginfields.email,onChange:this.updateFields,placeholder:"Email"})))),r.a.createElement("div",{className:"col-auto pl-0"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"password-icon input-group-text"},r.a.createElement("i",{className:"fa fa-lock"}))),r.a.createElement(k.a,null,r.a.createElement(S.a,{type:"password",name:"password",value:this.state.loginfields.password,onChange:this.updateFields,placeholder:"********"})))),r.a.createElement("div",{className:"col-auto pl-0 pr-0"},r.a.createElement("button",{className:"btn btn-primary my-2 my-sm-0",type:"submit",disabled:!this.state.loginfields.email||!this.state.loginfields.password},"Login"))),r.a.createElement("div",{className:"form-inline my-2 my-lg-0"},r.a.createElement("div",{className:"text-warning"},this.state.emailerror))),o=r.a.createElement("div",null,r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement("div",{className:"col-auto pl-0 pr-0"},r.a.createElement("button",{className:"btn btn-primary my-2 my-sm-0",onClick:this.Logout.bind(this),type:"submit"},"LOGOUT"))));return r.a.createElement("nav",{className:(e=this.props.location.pathname,"/HotelSearch"===e?"sticky-top navbar navbar-pages fixed-top":"/RoomPage"===e||"/ModifyRoomPage"===e||"/Checkout"===e?"sticky-top navbar navbar-page-room fixed-top":"sticky-top navbar navbar-home fixed-top")},r.a.createElement("div",{className:"navbar-left form-inline my-2 my-lg-0"},r.a.createElement("div",{className:"col-auto pl-0 custom-row",onClick:this.Home.bind(this)},r.a.createElement("img",{className:"imageLogo",src:M.a,alt:"logologologo"}),r.a.createElement("div",null,"Budget Suites")),localStorage.accesstoken?t:r.a.createElement("div",{className:""},"|"),localStorage.accesstoken?t:r.a.createElement(Y,null)),r.a.createElement("div",{className:"navbar-right form-inline my-2 my-lg-0"},localStorage.accesstoken?a:t,localStorage.accesstoken?n:t,localStorage.accesstoken?t:l,localStorage.accesstoken?o:s))}}]),a}(r.a.Component),F=Object(p.a)(q),A=(a(150),a(76)),B=(a(213),a(394),function(e){return j.a.get("/api/search/hotels",{params:e}).then((function(e){return e.status,e.data}))}),L=function(e,t){switch(t){case"city":t="locality";break;case"state":t="region";break;default:t="street-address"}var a="";return e.includes(t)&&(a=(a=e.substring(e.lastIndexOf(t)+t.length+2)).substr(0,a.indexOf("<"))),a},U=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),n=t.call(this,e);var l=new URLSearchParams(window.location.search),s="";return l.get("full_address")&&""!==l.get("full_address")&&(s=l.get("full_address")),n.state={fullAddress:s},n.autocompleteInput=r.a.createRef(),n.autocomplete=null,n.handlePlaceChanged=n.handlePlaceChanged.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.autocomplete=new window.google.maps.places.Autocomplete(this.autocompleteInput.current,{types:["geocode"]}),this.autocomplete.addListener("place_changed",this.handlePlaceChanged)}},{key:"handlePlaceChanged",value:function(){var e=this.autocomplete.getPlace();this.props.onPlaceChanged(e)}},{key:"render",value:function(){return r.a.createElement("input",{type:"text",className:"location-input form-control",ref:this.autocompleteInput,defaultValue:this.state.fullAddress,id:"search_bar",placeholder:"Where are you going?"})}}]),a}(r.a.Component),$=a(251),H=a.n($),z=a(549),W=[{value:"price_asc",label:"Price(Low to High)"},{value:"price_des",label:"Price(High to Low)"},{value:"name_asc",label:"Name(A to Z)"},{value:"name_des",label:"Name(Z to A)"},{value:"distance_asc",label:"Distance(Nearest First)"},{value:"distance_des",label:"Distance(Farthest First)"}],V=[{name:"WiFi",label:"WiFi"},{name:"Pool",label:"Pool"},{name:"Spa",label:"Spa"},{name:"Smoking",label:"Smoking"}],Z=[{value:"WiFi",label:"WiFi"},{value:"Pool",label:"Pool"},{value:"Spa",label:"Spa"},{value:"TV",label:"TV"},{value:"Air Conditioning",label:"Air Conditioning"},{value:"Sound Proof",label:"Sound Proof"},{value:"Balcony",label:"Balcony"},{value:"Bathtub",label:"Bathtub"},{value:"Barbecue",label:"Barbecue"},{value:"Smoking",label:"Smoking"},{value:"Beach view",label:"Beach view"},{value:"Strip View",label:"Strip View"}],J={width:"100%",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(H.a,")")},G=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;e.setState({[r]:n})},e.handleCheckBox=function(t){var a=t.target.name;e.setState((function(e){return{checkbox:Object(g.a)(Object(g.a)({},e.checkbox),{},{[a]:!e.checkbox[a]})}}))},e.adultIncrement=function(){var t=parseInt(document.getElementById("adult").value,10);t++,document.getElementById("adult").value=t;var a=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);e.setState({adult:t,guest_number:a})},e.adultDecrement=function(){var t=parseInt(document.getElementById("adult").value,10);0!==t&&t--,document.getElementById("adult").value=t;var a=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);e.setState({adult:t,guest_number:a})},e.childrenIncrement=function(){var t=parseInt(document.getElementById("children").value,10);t++,document.getElementById("children").value=t;var a=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);e.setState({children:t,guest_number:a})},e.childrenDecrement=function(){var t=parseInt(document.getElementById("children").value,10);0!==t&&t--,document.getElementById("children").value=t;var a=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);e.setState({children:t,guest_number:a})},e.search=function(t){t.preventDefault();var a=Object.keys(e.state.checkbox).filter((function(t){return!0===e.state.checkbox[t]})),n={streetAddress:e.state.streetAddress,city:e.state.city,state:e.state.state,latitude:e.state.latitude,longitude:e.state.longitude,date_in:e.state.date_in.format("YYYY-MM-DD"),date_out:e.state.date_out.format("YYYY-MM-DD"),adult:e.state.adult,children:e.state.children,guest_number:e.state.guest_number};B(n).then((function(t){var r="latitude=".concat(n.latitude,"&longitude=").concat(n.longitude)+"&date_in=".concat(n.date_in,"&date_out=").concat(n.date_out)+"&adult=".concat(e.state.adult,"&children=").concat(e.state.children)+"&guest_number=".concat(e.state.guest_number,"&full_address=").concat(e.state.fullAddress)+"&city=".concat(n.city,"&street_address=").concat(n.streetAddress)+"&state=".concat(n.state)+"&amenities=".concat(a);e.props.history.push({pathname:"/HotelSearch",search:"?".concat(r)})}))},e.state={fullAddress:"",streetAddress:"",city:"",state:"",latitude:"",longitude:"",date_in:null,date_out:null,adult:0,children:0,focusedInput:null,guest_number:0,place:{},checkbox:{}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"showPlaceDetails",value:function(e){var t=JSON.stringify(e.geometry.location,null,2).replace(/['"]+/g,""),a=t.substring(t.lastIndexOf("lat:")+"lat: ".length,t.lastIndexOf(",")),n=t.substring(t.lastIndexOf("lng:")+"lng: ".length,t.lastIndexOf("}")).replace(/\s/g,""),r=JSON.stringify(e.formatted_address,null,2).replace(/['"]+/g,""),l=JSON.stringify(e.adr_address,null,2).replace(/['"]+/g,"");l=l.replace(/(\r\n|\n|\r)/gm,"");var s=L(l),o=L(l,"city"),c=L(l,"state");this.setState({latitude:a,longitude:n,fullAddress:r,streetAddress:s,city:o,state:c,place:e})}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"col-lg-12 home-container col-auto",style:J},r.a.createElement("div",{className:"home-form-container col-lg-12"},r.a.createElement(b.a,{className:"home-form col-lg-12",onSubmit:this.search},r.a.createElement(k.a,null,r.a.createElement("div",{className:"col-lg-12 custom-row"},r.a.createElement("div",{className:"col-lg-6 top-header ml-lg-5 "},r.a.createElement("div",{className:"subheading-sm"},"Welcome"),r.a.createElement("div",null,"Budget Suites"))),r.a.createElement("div",{className:"row mb-5 mr-lg-5 ml-lg-5"},r.a.createElement("div",{className:"col-md-12 home-inputs-container"},r.a.createElement("div",{className:"block-32"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mb-3 mb-lg-0 col-lg-4"},r.a.createElement("label",{className:"input-labels"},"Location"),r.a.createElement("div",{className:"field-icon-wrap"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fa fa-search"})),r.a.createElement(U,{onPlaceChanged:this.showPlaceDetails.bind(this)}))),r.a.createElement("div",{className:"col-md-6 mb-3 mb-lg-0 col-lg-4"},r.a.createElement("label",{className:"input-labels"},"Check In \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0      Check Out"),r.a.createElement("div",{className:"field-icon-wrap check-wrap"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fa fa-calendar"})),r.a.createElement(A.DateRangePicker,{startDatePlaceholderText:"mm/dd/yyyy",startDate:this.state.date_in,startDateId:"your_unique_start_date_id",endDatePlaceholderText:"mm/dd/yyyy",endDate:this.state.date_out,endDateId:"your_unique_end_date_id",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState({date_in:a,date_out:n})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}}))),r.a.createElement("div",{className:"col-md-6 mb-3 mb-md-0 col-lg-2"},r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"input-labels"},"Guests"),r.a.createElement("div",{className:"icon"},r.a.createElement("span",{className:"ion-ios-arrow-down"})),r.a.createElement("div",{className:0===this.state.guest_number?"home-guest-dropdown col-lg-12 menu-box menu-item":"home-guest-dropdown-filled col-lg-12 menu-box menu-item"}," ",0===this.state.guest_number?null:this.state.guest_number,"\xa0guests",r.a.createElement("ul",{className:"home-guest-dropdown-list-style"},r.a.createElement("li",null,r.a.createElement("div",{className:"form-inline home-adults-container"},r.a.createElement("div",{className:"home-adults"},"Adults"),r.a.createElement("div",{className:"home-increments"},r.a.createElement("i",{className:"fa fa-minus home-guest-icon-increment",type:"button",value:"Decrement Value",onClick:this.adultDecrement}),r.a.createElement("input",{readOnly:!0,className:"home-guest-input",name:"adult",type:"text",id:"adult",value:this.state.adult,onChange:this.handleChange}),r.a.createElement("i",{className:"fa fa-plus home-guest-icon-decrement",type:"button",value:"Increment Value",onClick:this.adultIncrement}))),r.a.createElement("div",{className:"form-inline home-children-container"},r.a.createElement("div",{className:"home-children"},"Children"),r.a.createElement("div",{className:"home-increments"},r.a.createElement("i",{className:"fa fa-minus home-guest-icon-increment",type:"button",value:"Decrement Value",onClick:this.childrenDecrement}),r.a.createElement("input",{readOnly:!0,className:"home-guest-input",name:"children",type:"text",id:"children",value:this.state.children,onChange:this.handleChange}),r.a.createElement("i",{className:"fa fa-plus home-guest-icon-decrement",type:"button",value:"Increment Value",onClick:this.childrenIncrement})))))))),r.a.createElement("div",{className:"col-md-6 mb-3 mb-md-0 col-lg-2 "},r.a.createElement("label",{htmlFor:"checkin"},"\xa0"),r.a.createElement("div",{className:""},r.a.createElement("button",{disabled:!this.state.city||!this.state.date_in||!this.state.date_out||0===this.state.guest_number,className:"home-submit-button btn btn-primary py-3 px-4",type:"submit"},"Search")))),r.a.createElement("div",{className:"input-labels-guide"},'Try "Las Vegas" or "New Orleans"')),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"form-checkboxes row home-checkboxes text-center"},V.map((function(t,a){return r.a.createElement(z.a,{className:"col-lg-3 input-labels",type:"checkbox",key:a,id:a+123,name:t.name,label:t.label,value:t.value,onChange:e.handleCheckBox})}))))))))));return r.a.createElement("div",null,t)}}]),a}(r.a.Component),Q=Object(p.a)(G),K=a(47),X=a.n(K),ee=a(59),te=a(550),ae=a(551),ne=a(552),re=a(553),le=(a(396),a(397),a(14)),se=a.n(le),oe=a(259),ce=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(oe.a,{isMulti:!0,name:"Amenities",options:Z,defaultValue:this.props.value,placeholder:"Choose amenities",onChange:this.props.handleFilterDropdown,className:"basic-multi-select",classNamePrefix:"select"})}}]),a}(r.a.Component),ie="https://cdn.mapmarker.io/api/v1/pin?labelColor=6E942A&size=40&background=D94B43&color=333&hoffset=0&text=",me="https://cdn.mapmarker.io/api/v1/pin?labelColor=00ff00&size=40&background=11942A&color=333&hoffset=0&text=",de=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).convertSelectedOption=function(){var e="";n.state.selectedOption.forEach((function(t,a){e+=t.label,a!==n.state.selectedOption.length-1&&(e+=",")})),n.setState((function(t){return{searchParams:Object(g.a)(Object(g.a)({},t.searchParams),{},{amenities:e})}}))},n.handleFilterDropdown=function(e){n.setState({selectedOption:e},(function(){return n.convertSelectedOption()}))},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState({[r]:a})},n.adultIncrement=function(){var e=parseInt(document.getElementById("adult").value,10);e++,document.getElementById("adult").value=e;var t=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);n.setState({adult:e,guest_number:t})},n.adultDecrement=function(){var e=parseInt(document.getElementById("adult").value,10);0!==e&&e--,document.getElementById("adult").value=e;var t=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);n.setState({adult:e,guest_number:t})},n.childrenIncrement=function(){var e=parseInt(document.getElementById("children").value,10);e++,document.getElementById("children").value=e;var t=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);n.setState({children:e,guest_number:t})},n.childrenDecrement=function(){var e=parseInt(document.getElementById("children").value,10);0!==e&&e--,document.getElementById("children").value=e;var t=parseInt(document.getElementById("adult").value,10)+parseInt(document.getElementById("children").value,10);n.setState({children:e,guest_number:t})},n.getHotelSearchResult=function(e){e.preventDefault();var t=new URLSearchParams(n.props.location.search).get("sortBy"),a="";e.target.name&&"sortBy"===e.target.name&&(a="&sortBy=".concat(e.target.value),n.setState({[e.target.name]:e.target.value})),e.target.name&&"pagination"===e.target.name&&(a="&pageNumber=".concat(e.target.value),t&&""!==t&&(a+="&sortBy=".concat(t))),n.state.searchParams.amenities&&(a+="&amenities=".concat(n.state.searchParams.amenities));var r=Object.assign({},n.state.searchParams);r.date_in=r.date_in.format("YYYY-MM-DD"),r.date_out=r.date_out.format("YYYY-MM-DD"),B(r).then((function(){var e="latitude=".concat(r.latitude,"&longitude=").concat(r.longitude)+"&date_in=".concat(r.date_in,"&date_out=").concat(r.date_out)+"&adult=".concat(n.state.adult,"&children=").concat(n.state.children)+"&guest_number=".concat(n.state.guest_number,"&full_address=").concat(n.state.fullAddress)+"&street_address=".concat(n.state.streetAddress,"&city=").concat(r.city)+"&state=".concat(r.state)+"".concat(a);n.props.history.push({pathname:"/HotelSearch",search:"?".concat(e)})}))},n.roomSearch=function(e){return function(t){var a=new URLSearchParams(n.props.location.search),r=a.get("date_in"),l=a.get("date_out"),s=a.get("guest_number"),o=a.get("city"),c="?date_in=".concat(r,"&date_out=").concat(l,"&guest_number=").concat(s,"&hotel_id=").concat(e.hotel_id,"&city=").concat(o);n.props.history.push({pathname:"/RoomPage",search:"".concat(c)})}};var r=new URLSearchParams(n.props.location.search),l=r.get("city"),s=r.get("date_in"),c=r.get("date_out"),i=r.get("longitude"),m=r.get("latitude"),d=r.get("adult"),u=r.get("children"),h=r.get("guest_number"),p=r.get("sortBy"),E=r.get("state"),v="",f=[];if(r.get("amenities")&&""!==r.get("amenities")){var y=(v=r.get("amenities")).split(",");y.constructor===Array&&y.forEach((function(e){var t={};t.value=e,t.label=e,f.push(t)}))}return n.state={hotels:[{}],searchClickedToggle:!1,sortBySelectedToggle:!1,searchParams:{city:l,latitude:m,longitude:i,state:E,date_in:se()(s,"YYYY-MM-DD"),date_out:se()(c,"YYYY-MM-DD"),amenities:v},sortBy:p,hotel_id:0,fullAddress:"",streetAddress:"",adult:d,children:u,guest_number:h,focusedInput:null,place:{},selectedOption:f},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ee.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchSearchResult();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.location.search!==this.props.location.search&&this.fetchSearchResult()}},{key:"showPlaceDetails",value:function(e){var t=JSON.stringify(e.geometry.location,null,2).replace(/['"]+/g,""),a=t.substring(t.lastIndexOf("lat:")+"lat: ".length,t.lastIndexOf(",")),n=t.substring(t.lastIndexOf("lng:")+"lng: ".length,t.lastIndexOf("}")),r=JSON.stringify(e.formatted_address,null,2).replace(/['"]+/g,""),l=JSON.stringify(e.adr_address,null,2).replace(/['"]+/g,"");l=l.replace(/(\r\n|\n|\r)/gm,"");var s=L(l),o=L(l,"city"),c=L(l,"state");this.setState((function(t){return{searchParams:Object(g.a)(Object(g.a)({},t.searchParams),{},{city:o,state:c,latitude:a,longitude:n}),fullAddress:r,streetAddress:s,place:e}}))}},{key:"fetchSearchResult",value:function(){var e=this,t="/api/search/hotels"+this.props.location.search;new URLSearchParams(this.props.location.search).get("sortBy")||this.setState({sortBy:""}),j.a.get(t).then((function(t){e.setState({hotels:t.data})})).then((function(){e.loadGoogleMap()}))}},{key:"loadGoogleMap",value:function(){var e=this,t=new URLSearchParams(this.props.location.search),a=parseFloat(t.get("latitude")),n=parseFloat(t.get("longitude")),r=new window.google.maps.Map(document.getElementById("map"),{center:{lat:a,lng:n},zoom:14}),l=new window.google.maps.LatLngBounds;window.googleMap=r;var s=new window.google.maps.InfoWindow;window.infoWindow=s,window.markers=[],this.state.hotels.results.forEach((function(t,a){var n=e.getHotelSearchResultImages(t.images),s="\n\n\t\t\t\t\t\t\t\t\t<img src=".concat(n,' style="max-width: 100%; max-height: 100%; padding-bottom: 10px"/>\n\t\t\t\t\t\t\t\t\t<a href="" style="padding-top:1vh; text-align:center;"><h5>').concat(t.name,'</h5></a>\n\t\t\t\t\t\t\t\t\t<div style="font-weight: 425;"> ').concat(t.address,'</div>\n\t\t\t\t\t\t\t\t\t<div style="font-weight: 425; padding-bottom: 8px;">').concat(t.city,", ").concat(t.state,'</div>\n\t\t\t\t\t\t\t\t\t<p style="text-align: center"> <img src="http://www.stickpng.com/assets/images/5a4525cd546ddca7e1fcbc84.png" alt="phone"style="width: 12px; height: 12px" /> &nbsp;').concat(t.phone_number,'</p>\n\t\t\t\t\t\t\t\t\t<p style="font-size: 1.2em; font-weight:500"> <img src="https://static.thenounproject.com/png/18095-200.png" alt="price" style="width: 25px; height: 25px" /> ').concat(t.min_price.toFixed(2)," ~ ").concat(t.max_price.toFixed(2),"</p>\n\n\n\n\t\t\t\t\t\t\t\t"),o=ie+""+(a+1),c=me+""+(a+1),i=new window.google.maps.Marker({position:{lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)},map:window.googleMap,title:t.name,icon:o});l.extend(new window.google.maps.LatLng(t.latitude,t.longitude)),window.googleMap.fitBounds(l),window.google.maps.event.addListenerOnce(r,"idle",(function(){r.getZoom()>16&&r.setZoom(16),window.markers.push(i)})),i.addListener("click",(function(){var e=new window.google.maps.LatLng(t.latitude,t.longitude);window.googleMap.panTo(e),window.markers.forEach((function(e,t){e.setIcon(ie+(t+1)),e.setAnimation(null)})),window.markers[a].setIcon(c),setTimeout((function(){window.markers[a].setAnimation()}),750),window.infoWindow.setContent(s),window.infoWindow.open(window.googleMap,i),window.infoWindow.setOptions({maxWidth:250})}))}))}},{key:"generatePageNumbers",value:function(){var e=[],t=new URLSearchParams(this.props.location.search),a=parseInt(t.get("pageNumber"));a||(a=0);var n=!1;if(this.state.hotels.results&&this.state.hotels.results.length>0)for(var l=0;l<this.state.hotels.totalResultCount/10;l++)n=a===l,e.push(r.a.createElement(te.a,{active:n,key:l},r.a.createElement(ae.a,{name:"pagination",onClick:this.getHotelSearchResult,key:l,value:l},l+1)));return e}},{key:"moveMap",value:function(e,t,a){var n=new window.google.maps.LatLng(e,t);window.googleMap.panTo(n),window.markers.forEach((function(e,t){e&&(t===a?(e.setIcon(me+(a+1)),e.setZIndex(12),e.setAnimation(window.google.maps.Animation.BOUNCE)):(e.setIcon(ie+(t+1)),e.setZIndex(0),e.setAnimation(null)))}))}},{key:"getHotelSearchResultImages",value:function(e){return e&&e.constructor===Array?e.split(",")[0]:e}},{key:"render",value:function(){var e=this;if(void 0===this.state.hotels.results)return r.a.createElement("div",null," Loading...");var t=r.a.createElement("div",null,r.a.createElement("hr",{className:"hotel-search-hr-bottom"}),r.a.createElement(k.a,{className:"form-inline hotel-search-inputs"},r.a.createElement("div",{className:"col-lg-3 input-group room-page-location"},r.a.createElement("div",{className:"input-group-append"},r.a.createElement("div",{className:"location-input-icon input-group-text"},r.a.createElement("i",{className:"fa fa-search"}))),r.a.createElement(U,{onPlaceChanged:this.showPlaceDetails.bind(this)})),r.a.createElement("div",{className:"col-lg-4 field-icon-wrap input-group room-page-search-date custom-row"},r.a.createElement("div",{className:"input-group-append"},r.a.createElement("div",{className:"check-in-icon input-group-text"},r.a.createElement("i",{className:"fa fa-calendar"}))),r.a.createElement("div",{className:"room-page-date-check-wrap"},r.a.createElement(A.DateRangePicker,{startDate:this.state.searchParams.date_in,startDateId:"your_unique_start_date_id",endDate:this.state.searchParams.date_out,endDateId:"your_unique_end_date_id",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState((function(e){return{searchParams:Object(g.a)(Object(g.a)({},e.searchParams),{},{date_in:a,date_out:n})}}))},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}}))),r.a.createElement("div",{className:" col-lg-2 input-group menu-container room-page-guest-container"},r.a.createElement("div",{className:"col-lg-12 hotel-search-menu-item"},r.a.createElement("div",{className:"hotelsearch-dropdown"},this.state.guest_number,"\xa0Guests"),r.a.createElement("ul",{className:"hotelsearch-dropdown-list-style"},r.a.createElement("li",null,r.a.createElement("div",{className:"form-inline home-adults-container"},r.a.createElement("div",{className:"col-lg-3 home-adults"},"Adults"),r.a.createElement("div",{className:"col-lg-9 home-increments"},r.a.createElement("i",{className:"fa fa-minus home-guest-icon-increment",type:"button",value:"Decrement Value",onClick:this.adultDecrement}),r.a.createElement("input",{readOnly:!0,className:"home-guest-input",name:"adult",type:"text",id:"adult",value:this.state.adult,onChange:this.handleChange}),r.a.createElement("i",{className:"fa fa-plus home-guest-icon-decrement",type:"button",value:"Increment Value",onClick:this.adultIncrement}))),r.a.createElement("div",{className:"form-inline home-children-container"},r.a.createElement("div",{className:"col-lg-3 home-children"},"Children"),r.a.createElement("div",{className:"col-lg-9 home-increments"},r.a.createElement("i",{className:"fa fa-minus home-guest-icon-increment",type:"button",value:"Decrement Value",onClick:this.childrenDecrement}),r.a.createElement("input",{readOnly:!0,className:"home-guest-input",name:"children",type:"text",id:"children",value:this.state.children,onChange:this.handleChange}),r.a.createElement("i",{className:"fa fa-plus home-guest-icon-decrement",type:"button",value:"Increment Value",onClick:this.childrenIncrement}))))))),r.a.createElement("div",{className:"col-lg-2 home-submit-button-container"},r.a.createElement(ce,{value:this.state.selectedOption,handleFilterDropdown:this.handleFilterDropdown})),r.a.createElement("div",{className:"col-lg-1 home-submit-button-container"},r.a.createElement("button",{onClick:this.getHotelSearchResult,className:"p-2 submit-button btn btn-danger my-2 my-sm-0",type:"submit"},"Search"))),r.a.createElement("hr",{className:"hotel-search-hr-bottom"})),a=r.a.createElement("div",{className:"hotel-search-pagination"},r.a.createElement(ne.a,null,this.generatePageNumbers())),n=r.a.createElement("select",{name:"sortBy",onChange:this.getHotelSearchResult,value:this.state.sortBy},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Sort By"),W.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value,label:e.label})}))),l=r.a.createElement(re.a,{hover:!0,borderless:!0},r.a.createElement("tbody",null,this.state.hotels.results.map((function(t,a){var n=e.getHotelSearchResultImages(t.images);return r.a.createElement("tr",{key:a,className:"hotel-search-row shadow-sm p-3 mb-5",tag:"a",onClick:e.roomSearch(t),onMouseEnter:function(){return e.moveMap(t.latitude,t.longitude,a)},style:{cursor:"pointer"}},r.a.createElement("td",{className:""},r.a.createElement("img",{className:"hotel-search-item-image",src:n,alt:"logo"})),r.a.createElement("td",{className:""},r.a.createElement("div",null,r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-header"},r.a.createElement("div",{className:"hotel-search-item-number"},a+1,"."),r.a.createElement("div",{className:"hotel-search-item-name"}," "," "),r.a.createElement("a",{href:" ",className:"col-lg-10 hotel-search-item-name"},t.name)),r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-rating"},r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star"})),r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-address"},t.address),r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-address"},t.city),r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-address"},t.phone_number),r.a.createElement("div",{className:"hotel-search-item-row hotel-search-item-address",style:{color:"#3b73d3"}},t.amenities))),r.a.createElement("td",{className:""},r.a.createElement("div",null,r.a.createElement("div",{className:"hotel-search-item-row"},r.a.createElement("div",{className:"hotel-search-item-price"},"$",t.min_price.toFixed(2)," \xa0-\xa0 $",t.max_price.toFixed(2))))))})))),s=r.a.createElement("div",{className:"col-lg-6 hotel-search-first-column"},r.a.createElement("div",{className:"hotel-search-sort-container row"},r.a.createElement("div",{className:"col-lg-1"},n)),r.a.createElement("div",{className:"hotel-search-table-container"},l),this.state.hotels.results.length>0?a:""),o=r.a.createElement("div",{className:"col-lg-6 hotel-search-first-column"},"No Result"),c=r.a.createElement("div",null,t,r.a.createElement("div",{className:"hotel-search-columns-container col-lg-12 row"},r.a.createElement("div",{className:"hotel-search-map-column col-lg-6"},r.a.createElement("div",{id:"map"})),this.state.hotels.results.length>0?s:o));return r.a.createElement("div",null,r.a.createElement("div",{className:"hotel-search-container"},c))}}]),a}(r.a.Component),ue=Object(p.a)(de),he=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(r.a.Component),pe=(a(124),a(103)),ge=a.n(pe),Ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleSubmit=function(t){(t.preventDefault(),e.nameChecker())&&(function(e){return j.a.post("/api/changeName",{name:e.name}).then((function(e){return e.status,e.status})).catch((function(e){return e.response.status}))}({name:e.state.fields.name}).then((function(e){})),window.location.reload())},e.state={modal:!1,fields:{name:""},errors:{}},e.toggle=e.toggle.bind(Object(h.a)(e)),e.handleUpdate=e.handleUpdate.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(c.a)(a,[{key:"handleUpdate",value:function(e){var t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t})}},{key:"toggle",value:function(){this.setState(Object(g.a)(Object(g.a)({},this.state),{},{modal:!this.state.modal}))}},{key:"nameChecker",value:function(){var e={},t=!0;return""===this.state.fields.name&&(t=!1,e.name="*Field was empty"),this.setState({errors:e}),t}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,{size:"sm",color:"info",onClick:this.toggle,className:"profile-button"},"Edit Name"),r.a.createElement(v.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},r.a.createElement(f.a,{toggle:this.toggle}," Edit Your Name "),r.a.createElement(y.a,null,r.a.createElement(b.a,{onSubmit:this.handleSubmit},r.a.createElement(k.a,null,r.a.createElement(N.a,null," Name: "),r.a.createElement(S.a,{type:"text",name:"name",placeholder:this.state.name,value:this.state.fields.name,onChange:this.handleUpdate,required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.name)))),r.a.createElement(P.a,null,r.a.createElement(E.a,{color:"primary",onClick:this.handleSubmit}," Save "),r.a.createElement(E.a,{color:"secondary",onClick:this.toggle}," Cancel "))))}}]),a}(r.a.Component),ve=Object(p.a)(Ee),fe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleSubmit=function(t){(t.preventDefault(),e.validate())&&function(e){return j.a.post("/api/UserProfileChangePass",{oldpass:e.oldpass,newpass:e.newpass}).then((function(e){return e.status,e.status})).catch((function(e){return e.response.status}))}({oldpass:e.state.fields.oldpass,newpass:e.state.fields.newpass}).then((function(t){200===t?(e.setState({old_pass_error:!1},(function(){return e.pushtoCurrentURL()})),alert("Your password has been updated!"),window.location.reload()):400===t&&e.setState({old_pass_error:!0},(function(){return e.pushtoCurrentURL()}))}))},e.state={modal:!1,fields:{oldpass:"",newpass:"",repass:""},errors:{},password_error:[],old_pass_error:!1,newPasswordCheck:[{req:"\u2265 8 characters",valid:!1},{req:"At least 1 uppercase letter",valid:!1},{req:"At least 1 lowercase letter",valid:!1},{req:"At least 1 special character !@#$%^&*",valid:!1}]},e.toggle=e.toggle.bind(Object(h.a)(e)),e.updateFields=e.updateFields.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.newPasswordChecker=e.newPasswordChecker.bind(Object(h.a)(e)),e}return Object(c.a)(a,[{key:"updateFields",value:function(e){var t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t}),this.newPasswordChecker()}},{key:"newPasswordChecker",value:function(){var e=this.state.fields.newpass,t=this.state.newPasswordCheck;t[0].valid=e.length>=8,/(?=.*[A-Z])/.test(e)?t[1].valid=!0:t[1].valid=!1,/(?=.*[a-z])/.test(e)?t[2].valid=!0:t[2].valid=!1,/(?=.*[!@#$%^&*])/.test(e)?t[3].valid=!0:t[3].valid=!1,this.setState({newPasswordCheck:t})}},{key:"toggle",value:function(){this.setState(Object(g.a)(Object(g.a)({},this.state),{},{modal:!this.state.modal}))}},{key:"pushtoCurrentURL",value:function(){var e=this.props.location.pathname+this.props.location.search;this.props.history.push(e)}},{key:"validate",value:function(){var e=this.state.fields,t={},a=!0;(""===e.newpass&&(a=!1,t.newpass="*Please enter a password"),""===e.oldpass&&(a=!1,t.oldpass="*Please enter the old password"),""!==e.newpass)&&(new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$").test(e.newpass)?(""===e.repass&&(a=!1,t.repass="*Please re-enter password"),""!==e.repass&&(e.repass.match(e.newpass)||(a=!1,t.repass="*Passwords must match"))):(a=!1,t.newpass="*This password does not meet the requirements"));return this.setState({errors:t,password_error:[]}),a}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"text-warning"},this.state.password_error.map((function(e){return r.a.createElement("div",null,e)}))),t=r.a.createElement("div",{className:"text-warning"}),a=r.a.createElement("div",{className:"text-warning"},"Old Password does not match");return this.state.newPasswordCheck.map((function(e){return r.a.createElement("div",{key:e.req,className:e.valid?"valid-req":"invalid-req"},e.req)})),r.a.createElement("div",null,r.a.createElement(E.a,{size:"sm",color:"info",onClick:this.toggle,className:"profile-button"},"Change Password"),r.a.createElement(v.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},r.a.createElement(f.a,{toggle:this.toggle}," Change Your Password "),r.a.createElement(y.a,null,r.a.createElement(b.a,{onSubmit:this.handleSubmit},r.a.createElement(k.a,null,r.a.createElement(N.a,null," Old Password: "),r.a.createElement(S.a,{type:"password",name:"oldpass",placeholder:"********",value:this.state.fields.oldpass,onChange:this.updateFields,required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.oldpass),this.state.old_pass_error?a:t),r.a.createElement(k.a,null,r.a.createElement(N.a,null," New Password: "),r.a.createElement(S.a,{type:"password",name:"newpass",placeholder:"********",value:this.state.fields.newpass,onChange:this.updateFields,required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.newpass),this.state.password_error?e:t),r.a.createElement(k.a,null,r.a.createElement(N.a,null," Re-enter New Password: "),r.a.createElement(S.a,{type:"password",name:"repass",placeholder:"********",value:this.state.fields.repass,onChange:this.updateFields,required:!0}),r.a.createElement("div",{className:"text-warning"},this.state.errors.repass)))),r.a.createElement(P.a,null,r.a.createElement(E.a,{color:"primary",onClick:this.handleSubmit}," Save "),r.a.createElement(E.a,{color:"secondary",onClick:this.toggle}," Cancel "))))}}]),a}(r.a.Component),ye=Object(p.a)(fe),be=a(554),we=a(555),_e=a(556),ke=a(557),Ne={width:"100%",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(ge.a,")")},Se=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",reward:"",currentDates:"",futureDates:"",rewardsEarned:"",transaction:"",currentRewardsHistory:[],futureRewardsHistory:[],user:[]},e.change=function(t){e.setState({[t.target.name]:t.target.value})},e.onSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state)},e.fileSelectedHandler=function(e){},e}return Object(c.a)(a,[{key:"RewardHistory",value:function(e){e.preventDefault(),this.props.history.push("/RewardHistory")}},{key:"componentDidMount",value:function(){var e=this;j.a.get("/api/profile").then((function(t){return e.setState({name:t.data.name,email:t.data.email,reward:t.data.reward})}))}},{key:"redirectToHome",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"profile-form-container col-lg-12 dark-tint"},r.a.createElement("div",null,r.a.createElement(be.a,{className:"profile-form-card-container"},r.a.createElement(w.a,null,r.a.createElement(_.a,{sm:"12",md:{size:6,offset:3}},r.a.createElement("div",{className:"profile-card"},r.a.createElement("div",{className:"profile-center-title"}," Hello ",this.state.name,"! "),r.a.createElement("br",null),r.a.createElement("div",{className:"profile-card-body profile-inner-card"},r.a.createElement(_.a,null,r.a.createElement(we.a,null,r.a.createElement(_e.a,{className:"profile-inner-cardheader",tag:"h4"}," ABOUT "),r.a.createElement("div",{className:"profile-inner-cardbody"},r.a.createElement(w.a,null,r.a.createElement(_.a,{xs:"6",sm:"4"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{className:"profile-human-pic",src:"https://png.pngtree.com/svg/20160308/_user_profile_icon_1108089.png",alt:"profile",width:"115"})),r.a.createElement(_.a,null,r.a.createElement(ke.a,{className:"profile-text-row"},r.a.createElement("br",null),r.a.createElement("b",null," Email: ")," ",this.state.email,r.a.createElement("br",null),r.a.createElement("b",null," Name: ")," ",this.state.name,r.a.createElement("br",null),r.a.createElement("b",null," Password: ")," ********"))),r.a.createElement(w.a,null,r.a.createElement(_.a,{xs:"4"}),r.a.createElement(_.a,{xs:"8"},r.a.createElement(ve,null),r.a.createElement(ye,null),r.a.createElement("br",null))))))),r.a.createElement("div",{className:"profile-card-body profile-inner-card"},r.a.createElement(_.a,null,r.a.createElement(we.a,null,r.a.createElement(_e.a,{className:"profile-inner-cardheader",tag:"h4"}," REWARDS "),r.a.createElement("div",{className:"profile-inner-cardbody"},r.a.createElement(ke.a,null,r.a.createElement("br",null),"Total Points: ",this.state.reward,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(E.a,{onClick:this.RewardHistory.bind(this),color:"info"}," See my reward history > "),r.a.createElement("br",null),r.a.createElement("br",null))))))))))));return r.a.createElement("div",{className:"col-lg-12 profile-container col-auto",style:Ne},localStorage.accesstoken?e:this.redirectToHome())}}]),a}(r.a.Component),xe=Object(p.a)(Se),Ce=(a(398),{width:"100%",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(ge.a,")")}),Oe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={rewardsHistory:[],user:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;j.a.all([j.a.get("/api/rewardsHistory")]).then(j.a.spread((function(t){for(var a=[],n=(new Date).toISOString().slice(0,10),r=0,l=0,s=0;s<t.data.length;s++){var o=t.data[s].transaction_id,c=t.data[s].name,i=t.data[s].date_in+" - "+t.data[s].date_out;t.data[s].date_active<=n?(r=0,l=t.data[s].change):(r=t.data[s].change,l=0),a[s]={booking_id:o,hotel:c,dates:i,points_pending:r,points_earned:l}}e.setState({rewardsHistory:a})}))).catch((function(e){return console.log("asdasdasd",e)}))}},{key:"renderRewardsTableData",value:function(){return this.state.rewardsHistory.map((function(e,t){var a=e.booking_id,n=e.hotel,l=e.dates,s=e.points_pending,o=e.points_earned;return r.a.createElement("tr",{key:t+1234},r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,o))}))}},{key:"redirectToHome",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"history-form-container col-lg-12 dark-tint"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(be.a,null,r.a.createElement(w.a,null,r.a.createElement(_.a,null,r.a.createElement("div",{className:"history-card"},r.a.createElement("div",{className:"history-card-body history-inner-card"},r.a.createElement("br",null),r.a.createElement("div",{className:"history-center-title"}," ",r.a.createElement("h2",null," My Reward History ")," "),r.a.createElement("br",null),r.a.createElement("div",{className:"history-table-wrapper-scroll-y history-scrollbar"},r.a.createElement(re.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Booking ID "),r.a.createElement("th",null," Hotel "),r.a.createElement("th",null," Check-in - Check-out "),r.a.createElement("th",null," Points Pending "),r.a.createElement("th",null," Points Earned "))),r.a.createElement("tbody",null,this.renderRewardsTableData())))),r.a.createElement("div",null,r.a.createElement("p",null," *Disclaimer: Points are rewarded 24 hours after the completion of your stay. "))))))));return r.a.createElement("div",{className:"col-lg-12 history-container col-auto",style:Ce},localStorage.accesstoken?e:this.redirectToHome())}}]),a}(r.a.Component),Pe=Object(p.a)(Oe),De=a(254),je=a.n(De),Ie=(a(214),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={modal:!1,id:e.id,room_history:[]},n.toggle=n.toggle.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;j.a.get("/api/reservations/viewres").then((function(t){for(var a=[],n=0;n<t.data.length;n++){var r=t.data[n].transaction_id,l=t.data[n].room_number,s=t.data[n].bed_type,o=t.data[n].price;a[n]={booking_id:r,room_num:l,bed_type:s,room_price:o}}e.setState({room_history:a})}))}},{key:"toggle",value:function(){this.setState(Object(g.a)(Object(g.a)({},this.state),{},{modal:!this.state.modal}))}},{key:"renderRoomsTableData",value:function(){var e=this;return this.state.room_history.map((function(t,a){var n=t.booking_id,l=t.room_num,s=t.bed_type,o=t.room_price;return 1*e.state.id===1*n?r.a.createElement("tr",{key:a+1233},r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,"$",o)):r.a.createElement("div",null)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,{color:"lightgray",onClick:this.toggle},r.a.createElement("img",{className:"reservations-image",src:"https://cdn1.iconfinder.com/data/icons/education-set-4/512/information-512.png",alt:"details"})),r.a.createElement(v.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},r.a.createElement(f.a,{toggle:this.toggle}," Room Information "),r.a.createElement(y.a,null,r.a.createElement(re.a,{className:"reservations-detail-table-text"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Room "),r.a.createElement("th",null," Bed "),r.a.createElement("th",null," Price "))),r.a.createElement("tbody",null,this.renderRoomsTableData())))))}}]),a}(r.a.Component)),Re=Object(p.a)(Ie),Ye=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),function(e){return j.a.post("/api/reservations/cancellation",{transaction_id:e.transaction_id}).then((function(e){return e.status,e.status})).catch((function(e){return e.response.status}))}({transaction_id:e.target.value}).then((function(e){200===e&&window.location.reload()}))},n.state={modal:!1,id:e.id},n.toggle=n.toggle.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"toggle",value:function(){this.setState(Object(g.a)(Object(g.a)({},this.state),{},{modal:!this.state.modal}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,{className:"reservations-button",color:"danger",onClick:this.toggle}," Cancel "),r.a.createElement(v.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},r.a.createElement(f.a,{toggle:this.toggle},"Cancel Confirmation \xa0",r.a.createElement("img",{className:"reservations-image",src:"https://www.wiki.sc4devotion.com/images/3/3d/Wiki_warning_amber.png",alt:"warning"})),r.a.createElement(y.a,null,r.a.createElement("p",null," Once you cancel your booking, it cannot be undone. If yes, then you will be emailed a cancellation receipt. ")," Are you sure you want to cancel this booking?"),r.a.createElement(P.a,null,r.a.createElement(E.a,{color:"primary",onClick:this.handleSubmit,value:this.state.id}," Yes "),r.a.createElement(E.a,{color:"secondary",onClick:this.toggle}," No "))))}}]),a}(r.a.Component),Te=Object(p.a)(Ye),Me={width:"100%",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(je.a,")")},qe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).modifyRoom=function(e){return function(t){t.preventDefault();var a=e,r="date_in=".concat(a.date_in,"&date_out=").concat(a.date_out,"\n\t\t\t\t\t\t\t\t&hotel_id=").concat(a.hotel_id,"&transaction_id=").concat(a.booking_id);n.props.history.push({pathname:"/ModifyRoomPage",search:"?".concat(r)})}},n.state={reservations:[],roominfo:[],transaction_id:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;j.a.get("/api/reservations/viewres").then((function(t){for(var a=[],n=[],r=[],l=[],s=[],o=1,c=0;c<t.data.length;c++){r.push(t.data[c].bed_type),l.push(t.data[c].price),s.push(1);for(var i=c+1;i<t.data.length;i++){if(t.data[i].transaction_id!==t.data[c].transaction_id){c=i-1;break}t.data[i].bed_type===t.data[c].bed_type&&t.data[i].price===t.data[c].price?o++:(r.push(t.data[i].bed_type),l.push(t.data[i].price),s.push(o),o=1)}n.push({beds:r,prices:l,quans:s}),r=[],l=[],s=[]}if(void 0===t.data[0])a[0]={};else var m=t.data[0].transaction_id,d=t.data[0].date_in,u=t.data[0].date_out,h=t.data[0].name,p=n[0].beds.toString(),g=n[0].prices.toString(),E=n[0].quans.toString(),v=t.data[0].total_price,f=t.data[0].status,y=t.data[0].hotel_id;a[0]={booking_id:m,date_in:d,date_out:u,hotel_name:h,bed_type:p,room_price:g,room_quantities:E,total_price:v,status:f,hotel_id:y};for(var b=1,w=1;w<t.data.length;w++)1*t.data[w].transaction_id!==1*t.data[w-1].transaction_id&&(m=t.data[w].transaction_id,d=t.data[w].date_in,u=t.data[w].date_out,h=t.data[w].name,p=n[b].beds.toString(),g=n[b].prices.toString(),E=n[b].quans.toString(),v=t.data[w].total_price,f=t.data[w].status,y=t.data[w].hotel_id,b++,a.push({booking_id:m,date_in:d,date_out:u,hotel_name:h,total_price:v,status:f,hotel_id:y}));e.setState({reservations:a})}))}},{key:"redirectToHome",value:function(){this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=r.a.createElement("tbody",null,this.state.reservations.map((function(t,a){var n=t.booking_id,l=t.date_in,s=t.date_out,o=t.hotel_name,c=t.total_price,i=t.status;return"booked"===i?r.a.createElement("tr",{key:a+11},r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,o),r.a.createElement("td",null,"$",c),r.a.createElement("td",null," ",r.a.createElement(E.a,{className:"reservations-button",color:"warning",value:t,onClick:e.modifyRoom(t)}," Modify "),r.a.createElement(Te,{id:n})," "),r.a.createElement("td",null,i),r.a.createElement("td",null," ",r.a.createElement(Re,{id:n})," ")):r.a.createElement("tr",{key:a+22},r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,s),r.a.createElement("td",null,o),r.a.createElement("td",null,"$",c),r.a.createElement("td",null,"       "),r.a.createElement("td",null,i),r.a.createElement("td",null," ",r.a.createElement(Re,{id:n})," "))}))),a=r.a.createElement("div",{className:"reservation-form-container col-lg-12 dark-tint"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(be.a,null,r.a.createElement(w.a,null,r.a.createElement(_.a,null,r.a.createElement("div",{className:"reservations-card"},r.a.createElement("div",{className:"reservations-card-body reservations-inner-card"},r.a.createElement("br",null),r.a.createElement("div",{className:"reservations-center-title"}," ",r.a.createElement("h2",null," My Reservations ")," "),r.a.createElement("br",null),r.a.createElement("div",{className:"reservations-table-wrapper-scroll-y reservations-scrollbar"},r.a.createElement(re.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Booking ID"),r.a.createElement("th",null,"Check-in"),r.a.createElement("th",null,"Check-out"),r.a.createElement("th",null,"Hotel"),r.a.createElement("th",null,"Total Price"),r.a.createElement("th",null,"Modify/Cancel"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Details"))),t)))))))));return r.a.createElement("div",{className:"col-lg-12 reservations-container col-auto",style:Me},a)}}]),a}(r.a.Component),Fe=a(558),Ae=(a(215),a(53)),Be=a(54),Le=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a);var r=(n=t.call(this,e)).props.location.state.hotel_id,l=n.props.location.state.hotel,s=n.props.location.state.date_in,c=n.props.location.state.date_out,i=n.props.location.state.city,m=n.props.location.state.state,d=n.props.location.state.address,u=n.props.location.state.country,h=n.props.location.state.transaction_id,p=(new Date(c)-new Date(s))/864e5,g=[{}];g="undefined"===typeof h||null===h?JSON.parse(n.props.location.state.rooms).results.filter((function(e){return e.desired_quantity>0})):JSON.parse(n.props.location.state.rooms);var E=n.props.location.state.oldAmountPaid,v=100*(n.props.location.state.oldTotalPrice-n.props.location.state.oldAmountPaid),f=0;return"undefined"===typeof h||null===h?f=g.reduce((function(e,t){return e+t.price*t.desired_quantity}),0):g.forEach((function(e){f+=e.price*e.quantity})),n.state={hotel:l,country:u,state:m,address:d,date_in:s,date_out:c,city:i,nights_stayed:p,rewardPoint:0,totalPrice:f,hotel_id:r,rooms:g,transaction_id:h,oldPrice:E,rewards_applied:v},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;j.a.get("/api/profile").then((function(t){e.setState({rewardPoint:t.data.reward})}))}},{key:"render",value:function(){return r.a.createElement(Ae.StripeProvider,{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AUTOCOMPLETE_URL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCdbO4zZuid4YxO2ZSA5j5dHdNJxrcBXQU&libraries=places"}).REACT_APP_STRIPE_PUBLIC_KEY},r.a.createElement("div",{className:"dimScreenSC "},r.a.createElement("div",{className:"containerSC  w-75",style:{}},r.a.createElement("div",{className:"w-100"},"undefined"!==typeof this.state.transaction_id?r.a.createElement(Ze,{hotel:this.state.hotel,date_in:this.state.date_in,date_out:this.state.date_out,city:this.state.city,state:this.state.state,address:this.state.address,country:this.state.country,rooms:this.state.rooms,transaction_id:this.state.transaction_id,totalPrice:this.state.totalPrice,oldPrice:this.state.oldPrice,rewards_applied:this.state.rewards_applied,nights_stayed:this.state.nights_stayed}):r.a.createElement(We,{hotel:this.state.hotel,date_in:this.state.date_in,date_out:this.state.date_out,city:this.state.city,state:this.state.state,address:this.state.address,country:this.state.country,rooms:this.state.rooms}),r.a.createElement(Ae.Elements,null,r.a.createElement("div",{className:""},r.a.createElement(He,{totalPrice:this.state.totalPrice*this.state.nights_stayed,rewardPoint:this.state.rewardPoint,date_in:this.state.date_in,date_out:this.state.date_out,hotel_id:this.state.hotel_id,rooms:this.state.rooms,transaction_id:this.state.transaction_id,cancellation_charge:this.state.cancellation_charge,nights_stayed:this.state.nights_stayed})))))))}}]),a}(r.a.Component),Ue=Object(p.a)(Le),$e=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={discount:"0",tempTotal:"0"},n.handleDiscountUsed=function(){n.setState({discountUsed:!0}),n.state.discount>n.state.totalPriceBeforeTaxAndRewards?(n.setState({discount:n.state.totalPriceBeforeTaxAndRewards}),n.setState({total:0})):n.setState({total:n.state.finalTotal})},n.handleChange=function(e){return function(t){n.setState({[e]:t.target.value})}},n.toggle=n.toggle.bind(Object(h.a)(n)),n.state={collapse:!1},n.state={discountUsed:!1},n.state={complete:!1,tax:.1*n.props.totalPrice,totalPriceBeforeTaxAndRewards:1.1*n.props.totalPrice,tempTotal:1.1*n.props.totalPrice,finalTotal:n.props.totalPrice,rewardPoint:n.props.rewardPoint,rewardPointValid:!1,total:1.1*n.props.totalPrice,discount:"0",date_in:n.props.date_in,date_out:n.props.date_out,hotel_id:n.props.hotel_id,rooms:n.props.rooms,transaction_id:n.props.transaction_id,cancellation_charge:n.props.cancellation_charge,nights_stayed:n.props.nights_stayed,checkBookings:!1},n.submit=n.submit.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;j.a.get("/api/profile").then((function(t){e.setState({rewardPoint:t.data.reward})}))}},{key:"handleDiscountUsedInput",value:function(e){this.setState({discount:e.target.value/100},(function(){this.state.discount<0?this.setState({discount:0}):100*this.state.discount>this.state.rewardPoint?(this.setState({discount:this.state.rewardPoint/100}),this.setState({finalTotal:this.state.tempTotal-this.state.rewardPoint/100})):this.setState({finalTotal:this.state.tempTotal-this.state.discount})}))}},{key:"toggle",value:function(){this.setState((function(e){return{collapse:!e.collapse}}))}},{key:"submit",value:function(){var e=Object(ee.a)(X.a.mark((function e(t){var a,n,r,l,s,o,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.stripe.createToken({name:"SpartanHotel"});case 2:if(a=e.sent,n=a.token,r=[{}],r="undefined"===typeof this.state.transaction_id||null===this.state.transaction_id?this.state.rooms.filter((function(e){return e.desired_quantity>0})):this.state.rooms,l=0,"undefined"===typeof this.state.transaction_id||null===this.state.transaction_id?l=r.reduce((function(e,t){return e+t.price*t.desired_quantity}),0):this.state.rooms.forEach((function(e){l+=e.price*e.quantity})),"undefined"!==typeof this.state.transaction_id&&null!==this.state.transaction_id||r.forEach((function(e){e.quantity=e.desired_quantity,delete e.desired_quantity})),s={id:n.id,total_price:parseFloat(this.state.totalPriceBeforeTaxAndRewards).toFixed(2),cancellation_charge:parseFloat(l*this.state.nights_stayed*.2).toFixed(2),date_in:this.state.date_in,date_out:this.state.date_out,rewards_applied:parseInt(100*this.state.discount),rooms:r,hotel_id:this.state.hotel_id,amount_due_from_user:parseFloat(this.state.total).toFixed(2),transaction_id:this.state.transaction_id,status:"Complete",guest_id:"0"},"undefined"!==typeof this.state.transaction_id&&null!==this.state.transaction_id){e.next=24;break}return e.next=13,fetch("/api/checkout/charge",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(s)}).catch((function(e){return console.log("Error: "+e)}));case 13:if(!(o=e.sent).ok){e.next=18;break}this.props.history.push("/Confirmation"),e.next=22;break;case 18:return e.next=20,o.text();case 20:e.sent.includes("Attempted booking overlaps")&&this.setState({checkBookings:!0});case 22:e.next=35;break;case 24:return e.next=26,fetch("/api/checkout/modify",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(s)}).catch((function(e){return console.log("Error: "+e)}));case 26:if(!(c=e.sent).ok){e.next=31;break}this.props.history.push("/Confirmation"),e.next=35;break;case 31:return e.next=33,c.text();case 33:e.sent.includes("Attempted booking overlaps")&&this.setState({checkBookings:!0});case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row",style:{marginRight:"0px",marginLeft:"0px"}},r.a.createElement("div",{className:"card text-left w-50"},r.a.createElement("h5",{className:"card-header"},"Payment Method"),r.a.createElement("div",{className:"card-body",style:{backgroundColor:"#ffffff"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-11"},r.a.createElement("form",{action:"/charge",method:"post",id:"payment-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("img",{src:"https://images-na.ssl-images-amazon.com/images/I/61cL%2BM-SN%2BL._SL1283_.jpg",alt:"ckot",width:"405.5",height:"153.5"})," "),r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{style:{fontSize:12,marginLeft:13}},"Card Number"),r.a.createElement("div",null,r.a.createElement(Ae.CardNumberElement,null))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"form-group ",style:{paddingLeft:15,marginTop:8,width:"33%"}},r.a.createElement("span",{style:{fontSize:12,marginLeft:13}},"Expiration Date"),r.a.createElement("div",null,r.a.createElement(Ae.CardExpiryElement,null))),r.a.createElement("div",{className:"form-group ",style:{paddingLeft:30,marginTop:8,width:"33%"}},r.a.createElement("span",{style:{fontSize:12,marginLeft:13}},"Postal Code"),r.a.createElement("div",null,r.a.createElement(Ae.PostalCodeElement,null))),r.a.createElement("div",{className:"form-group",style:{marginTop:8,paddingLeft:30,width:"33%"}},r.a.createElement("span",{style:{fontSize:12,marginLeft:13}},"CVC"),r.a.createElement("div",null,r.a.createElement(Ae.CardCVCElement,null))))))))),r.a.createElement("div",{className:"card text-left w-50 "},r.a.createElement("h5",{className:"card-header"},"Payment Summary"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"col"}),r.a.createElement("p",{className:"font-weight-bold",id:"test"}),r.a.createElement("form",null,r.a.createElement("table",{className:"table font-weight-bolder"},r.a.createElement("tbody",{className:"border"},r.a.createElement("tr",null,r.a.createElement("td",null,"Room: "),r.a.createElement(Be.a,{value:this.props.totalPrice,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:this.props.totalPrice})),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"100%"}},"Tax: "),r.a.createElement(Be.a,{value:this.state.tax,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:this.state.tax})),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"100%"}},"Discount: "),r.a.createElement(Be.a,{value:this.state.discount,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:0})),r.a.createElement("tr",null,r.a.createElement("td",null,"TOTAL:  "),r.a.createElement(Be.a,{value:this.state.total,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",null,e)},defaultValue:1.1})))),r.a.createElement("hr",{className:"dottedLineSC w-100"}),r.a.createElement("div",{className:"row w-100"},r.a.createElement("div",{className:"w-50 col-sm-auto "},r.a.createElement(E.a,{color:"warning",onClick:this.toggle,style:{marginBottom:"1rem",width:"90%"}},"Pay with Reward Points")),r.a.createElement("div",{className:" w-50 col-sm-auto"},r.a.createElement(E.a,{color:"primary",onClick:this.submit,style:{marginBottom:"1rem",width:"90%"}},"Checkout"))),r.a.createElement("div",{className:" w-100 row"},r.a.createElement(Fe.a,{isOpen:this.state.collapse,style:{width:"100%"}},r.a.createElement("div",{id:"collapse-rewardPoint "},r.a.createElement("div",{className:"form-group col-sm-auto offset-sm-1 row "},r.a.createElement("input",{type:"text",id:"rewardPointInput",className:"form-control w-75",placeholder:"Reward Point Amount",onChange:this.handleDiscountUsedInput.bind(this)}),r.a.createElement(E.a,{color:"warning",onClick:function(){return e.handleDiscountUsed()},style:{width:"25%"}},"Use"),r.a.createElement("div",{className:"small"},r.a.createElement("p",null,"You have ",this.state.rewardPoint," Reward Points ;"),r.a.createElement("p",{className:"font-italic small"}," 1 Reward Point = $0.01 (ie. 500 Reward Points = $5.00)")))))),this.state.checkBookings?r.a.createElement("div",{className:"room-page-verify-checkout"}," There is a booking that already exists within this date. "):null))))}}]),a}(r.a.Component),He=Object(p.a)(Object(Ae.injectStripe)($e)),ze=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a);var r=(n=t.call(this,e)).props.hotel,l=n.props.date_in,s=n.props.date_out,c=n.props.city,i=n.props.state,m=n.props.address,d=n.props.country,u=n.props.totalPrice,h=n.props.rooms,p=(new Date(s)-new Date(l))/864e5;return n.state={hotel:r,country:d,state:i,address:m,date_in:l,date_out:s,city:c,totalPrice:u,rooms:h,nights_stayed:p},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card text-center h-50"},r.a.createElement("h5",{className:"card-header"},"Booking Summary"),r.a.createElement("div",{className:"card-body  ",style:{backgroundColor:"#ffffff"}},r.a.createElement("h4",null,r.a.createElement("div",null,r.a.createElement("p",{className:"font-weight-bold",style:{fontSize:"30px"}},this.props.hotel),r.a.createElement("p",{className:"font-weight-light",style:{fontSize:"20px"}},this.props.address,", ",this.props.city),r.a.createElement("p",{className:"font-weight-light",style:{fontSize:"20px"}}," ",this.props.state,", ",this.props.country," ")),r.a.createElement("div",null,r.a.createElement("div",{className:"font-weight-light text-muted "},"          ",this.state.rooms.forEach((function(t){if(t.desired_quantity>0)return r.a.createElement("p",null,t.desired_quantity," ",t.bed_type," x ",e.state.nights_stayed," Day = $ ",t.price*t.desired_quantity*e.state.nights_stayed)})))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-weight-bold",style:{fontSize:"20px"}},"Check In: ",this.props.date_in),r.a.createElement("p",{className:"font-weight-bold",style:{fontSize:"20px"}},"Check Out: ",this.props.date_out)))))}}]),a}(r.a.Component),We=Object(p.a)(ze),Ve=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a);var r=(n=t.call(this,e)).props.hotel,l=n.props.date_in,s=n.props.date_out,c=n.props.city,i=n.props.state,m=n.props.address,d=n.props.country,u=n.props.totalPrice,h=n.props.rooms,p=n.props.oldPrice,g=n.props.rewards_applied,E=n.props.nights_stayed;return n.state={hotel:r,country:d,state:i,address:m,date_in:l,date_out:s,city:c,totalPrice:u,rooms:h,nights_stayed:E,oldPrice:p,rewards_applied:g},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row ",style:{marginRight:"0px",marginLeft:"0px"}},r.a.createElement("div",{className:"card w-50"},r.a.createElement("h5",{className:"card-header text-left"},"Booking Summary"),r.a.createElement("div",{className:"card-body ",style:{backgroundColor:"#ffffff"}},r.a.createElement("h4",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",{className:"font-weight-light text-muted "},"          ",this.state.rooms.forEach((function(t,a){if(t.quantity>0)return r.a.createElement("p",{key:a+1},t.quantity," ",t.bed_type," x ",e.state.nights_stayed," days = $ ",t.quantity*t.price*e.state.nights_stayed," ")})))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-weight-bold",style:{fontSize:"20px"}},"Check In: ",this.props.date_in),r.a.createElement("p",{className:"font-weight-bold",style:{fontSize:"20px"}},"Check Out: ",this.props.date_out))))),r.a.createElement("div",{className:"card text-left w-50 "},r.a.createElement("h5",{className:"card-header"},"Previous Payment Summary"),r.a.createElement("div",{className:"card-body",style:{backgroundColor:"#ffffff"}},r.a.createElement("div",{className:"col"}),r.a.createElement("p",{className:"font-weight-bold",id:"test"}),r.a.createElement("table",{className:"table font-weight-bolder"},r.a.createElement("tbody",{className:"border"},r.a.createElement("tr",null,r.a.createElement("td",null,"Prev. Price: "),r.a.createElement(Be.a,{value:this.state.oldPrice,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:0})),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"100%"}},"Reward Used: "),r.a.createElement(Be.a,{value:this.state.rewards_applied,displayType:"text",prefix:"",decimalScale:0,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:0})),r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"100%"}},"New Price: "),r.a.createElement(Be.a,{value:this.state.totalPrice*this.state.nights_stayed,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:0})),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Difference:  "),r.a.createElement(Be.a,{value:this.state.totalPrice*this.state.nights_stayed-this.state.oldPrice,displayType:"text",prefix:"$",decimalScale:2,fixedDecimalScale:!0,renderText:function(e){return r.a.createElement("td",{align:"right"},e)},defaultValue:0})))),r.a.createElement("div",{className:"alert alert-info ",style:{}},r.a.createElement("span",null," We will refund or charge only the difference of the old and new booking prices!")))))}}]),a}(r.a.Component),Ze=Object(p.a)(Ve),Je=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).Checkout=function(e){var t=0,a=0;if(n.setState({verifyRooms:!1,verifyGuests:!1}),n.state.rooms.results.map((function(e,a){return t+=e.desired_quantity})),n.state.rooms.results.map((function(e,t){return a+=e.desired_quantity*e.capacity})),1*t===0&&n.setState({verifyRooms:!0}),a<n.state.guest_number&&n.setState({verifyGuests:!0}),t>0&&a>=n.state.guest_number){var r=JSON.stringify(n.state.rooms),l=n.state.hotel_id.toString(),s=n.state.date_in.toString(),o=n.state.date_out.toString(),c=n.totalPrice.toString(),i=n.state.guest_number.toString(),m=n.state.city.toString(),d=n.state.hotel.results[0].country.toString(),u=n.state.hotel.results[0].state.toString(),h=n.state.hotel.results[0].address.toString();n.props.history.push({pathname:"/Checkout",state:{rooms:r,date_in:s,date_out:o,hotel_id:l,totalPrice:c,guest_number:i,city:m,country:d,state:u,address:h}})}},n.handleEachRoomQuantity=function(e){var t=e.target,a=t.value,r=t.name,l=n.state.rooms.results;l[r].desired_quantity=a,n.setState({rooms:Object(g.a)(Object(g.a)({},n.state.rooms),{},{results:l}),verifyRooms:!1,verifyGuests:!1})};var r=new URLSearchParams(n.props.location.search),l=r.get("hotel_id"),s=r.get("date_in"),c=r.get("date_out"),i=r.get("city"),m=r.get("guest_number");return n.state={hotel:{},rooms:{},hotel_id:l,date_in:s,date_out:c,city:i,totalPrice:0,guest_number:m,verifyCheckout:!1,verifyRooms:!1,verifyGuests:!1},n.totalPrice=0,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ee.a)(X.a.mark((function e(){var t,a,n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/search/hotels/".concat(this.state.hotel_id,"/?date_in=").concat(this.state.date_in,"&date_out=").concat(this.state.date_out),a="/api/search/hotels?city=".concat(this.state.city,"&date_in=").concat(this.state.date_in,"&date_out=").concat(this.state.date_out,"&hotel_id=").concat(this.state.hotel_id),e.next=4,j.a.get(t);case 4:return n=e.sent.data,e.next=7,j.a.get(a);case 7:r=e.sent.data,n.results.forEach((function(e,t){n.results[t].desired_quantity=0})),this.setState({rooms:n,hotel:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleRoomPrice",value:function(){var e=this;return this.totalPrice=0,this.state.rooms.results.map((function(t,a){return e.totalPrice=e.totalPrice+t.price*t.desired_quantity})),this.totalPrice}},{key:"createAvailableRooms",value:function(e){for(var t=[],a=0;a<=this.state.rooms.results[e.index].quantity;a++)t.push(r.a.createElement("option",{key:a},a));return t}},{key:"render",value:function(){var e=this;if(this.state.hotel.results){var t=this.state.hotel.results[0].images,a=[];t&&(a=t.split(","));var n=r.a.createElement("div",{className:"room-page-container"},r.a.createElement("div",{className:"room-page-rooms-container"},r.a.createElement("div",null,this.state.rooms.results.length>0?r.a.createElement("div",{className:""},r.a.createElement("div",{className:"col-lg-12 custom-row room-page-hotel-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"custom-row mb-5"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"block-3 d-md-flex room-page-hotel-description"},r.a.createElement("div",{className:"col-md-4 text"},r.a.createElement("h2",{className:"heading"},this.state.hotel.results[0].name),r.a.createElement("div",{className:"room-page-item-rating"},r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star hotel-search-item-rating-checked"}),r.a.createElement("span",{className:"fa fa-star"})),r.a.createElement("ul",{className:"specs"},r.a.createElement("li",null," ",this.state.hotel.results[0].address,", ",this.state.hotel.results[0].city,", ",this.state.hotel.results[0].state,", ",this.state.hotel.results[0].zipcode," "),r.a.createElement("li",null," ",this.state.hotel.results[0].phone_number),r.a.createElement("li",null," ",r.a.createElement("sup",null,this.state.hotel.results[0].description)),r.a.createElement("li",{style:{color:"#38af7b"}}," ",this.state.hotel.results[0].amenities))),r.a.createElement("div",{className:"col-md-8 room-page-image",style:{backgroundImage:"url(".concat(a[0],")")}})))))),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-lg-12 room-page-rooms custom-row container"},this.state.rooms.results.map((function(t,a){return r.a.createElement("div",{className:"col-lg-4 mb-5",key:a},r.a.createElement("div",{className:"block-44"},r.a.createElement("div",{className:"room-page-image"},r.a.createElement("img",{src:t.images,alt:"Placeholder"})),r.a.createElement("div",{className:"text"},r.a.createElement("h2",{className:"heading"},t.bed_type," Size Room"),r.a.createElement("div",{className:"price"},r.a.createElement("sup",{className:"room-page-room-price"},"$"),r.a.createElement("span",{className:"room-page-room-price"},t.price.toFixed(2)),r.a.createElement("sub",null,"/per night")),r.a.createElement("ul",{className:"specs"},r.a.createElement("li",null,r.a.createElement("strong",null,"Amenities:")," Closet with hangers, HD flat-screen TV, Telephone"),r.a.createElement("li",null,r.a.createElement("strong",null,"Capacity Per Room:")," ",t.capacity)),r.a.createElement("div",null,r.a.createElement("strong",null,"# Of Rooms "),r.a.createElement("select",{className:"room-page-room-quantity-dropdown",type:"text",name:a,list:"numbers",value:t.THIS_IS_A_PLACEHOLDER,onChange:e.handleEachRoomQuantity},e.createAvailableRooms({index:a}))))))})))):r.a.createElement("div",null,"no result"),r.a.createElement("hr",null),r.a.createElement("div",{className:"room-page-checkout-guest-information custom-row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("strong",{className:"py-3"}," Guest: "),r.a.createElement("p",null,this.state.guest_number)),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("strong",null," Date In: "),r.a.createElement("p",null,this.state.date_in)),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("strong",null," Date Out: "),r.a.createElement("p",null,this.state.date_out))),r.a.createElement("div",{className:"room-page-checkout-description"},r.a.createElement(re.a,{hover:!0,borderless:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Room Type"),r.a.createElement("th",null,"Capacity"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,this.state.rooms.results.map((function(e,t){return e.desired_quantity>0?r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.bed_type),r.a.createElement("td",null,e.capacity),r.a.createElement("td",null,"$",e.price.toFixed(2)),r.a.createElement("td",null,e.desired_quantity," "),r.a.createElement("td",null,"$ ",(e.desired_quantity*e.price).toFixed(2))):r.a.createElement("tr",{key:t})})),r.a.createElement("tr",{className:"hr-row"},r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," ")),r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null,r.a.createElement("strong",null," Estimated Total Per Night")),r.a.createElement("td",null," $ ",this.handleRoomPrice().toFixed(2)))))),this.state.verifyCheckout?r.a.createElement("div",{className:"room-page-verify-checkout"}," Unable to checkout "):null,this.state.verifyRooms?r.a.createElement("div",{className:"room-page-verify-checkout"}," Please select a room "):null,this.state.verifyGuests?r.a.createElement("div",{className:"room-page-verify-checkout"}," Please select enough rooms to accomodate all guests "):null,localStorage.accesstoken?null:r.a.createElement("p",{style:{color:"#f977a1"}},"Please login to proceed to check out"),r.a.createElement(E.a,{disabled:!localStorage.accesstoken||0===parseInt(this.handleRoomPrice()),className:"home-submit-button btn btn-primary py-3 px-5 mb-5",onClick:this.Checkout.bind(this)},"Checkout"))));return r.a.createElement("div",null,n)}return r.a.createElement("div",{className:"hotel-search-container"}," Loading ")}}]),a}(r.a.Component),Ge=Object(p.a)(Je),Qe=a(77),Ke=a.n(Qe),Xe=a(104),et=a.n(Xe),tt=(a(216),a(559)),at={width:"100%",height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(et.a,")")},nt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){return function(t){n.setState({[e]:t.target.value})}},n.sendcode=function(e){e.preventDefault();var t,a=n.state.email;""===a?n.setState({showError:!1,msgFromServer:"",showNullError:!0}):(t=a,j.a.post("/api/recovery",{email:t}).then((function(e){return"S1"===e.data&&(console.log(e.data),localStorage.setItem("checkToken",e.data)),e.data})).catch((function(e){return console.log(e.response.status),e.response.status}))).then((function(e){"S1"===e?n.setState({showError:!1,msgFromServer:"recovery email sent!",showNullError:!1},(function(){n.props.history.push({pathname:"/Accesscode",state:a})})):n.setState({showError:!0,msgFromServer:"",showNullError:!1})}))},n.state={email:"",showError:"",msgFromServer:"",showNullError:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.msgFromServer,n=e.showNullError,l=e.showError;return r.a.createElement("div",{className:"col-lg-12 recoverage-container col-auto",style:at},r.a.createElement("div",{className:"recoverage-form-container col-lg-12 dark-tint"},r.a.createElement("br",null),r.a.createElement(be.a,{style:{marginTop:"9%"}},r.a.createElement(we.a,{className:"recoverage-card"},r.a.createElement("img",{className:"recoverage-picture",src:"http://cdn.onlinewebfonts.com/svg/img_228829.png",alt:"lock"}),r.a.createElement(tt.a,{className:"col-auto pl-0 recoverage-center-title"},r.a.createElement("h3",null,"Forgot Password?")),r.a.createElement("div",{className:"recoverage-inner-card"},"Enter your email below and we'll send you an access code:",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ke.a,{className:"recoverage-textfield",id:"email",label:"Email",type:"email",variant:"outlined",value:t,onChange:this.handleChange("email"),inputProps:{maxLength:99},placeholder:"guest@budgetsuites.com"}),n&&r.a.createElement("div",null,r.a.createElement("p",{className:"text-warning"}," *Please enter in your email.")),l&&r.a.createElement("div",null,r.a.createElement("p",{className:"text-warning"},"*This email address has not been registered!")),"recovery email sent!"===a&&r.a.createElement("div",null,r.a.createElement("p",null,"Access code has sent!")),r.a.createElement("button",{type:"submit",className:"recoverage-button",onClick:this.sendcode},"RESET"))))))}}]),a}(n.Component),rt=Object(p.a)(nt),lt=a(138),st=a.n(lt),ot=a(140),ct=a.n(ot),it={width:"100%",height:"100vh",marginTop:"0%",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(et.a,")")},mt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).checkCode=function(e){e.preventDefault(),function(e){return j.a.post("/api/checkcode",{access_code:e.access_code,email:e.email}).then((function(e){return"S"===e.data&&localStorage.setItem("1",e.data),e.data})).catch((function(e){return e.response.data}))}({access_code:n.state.fields.code,email:n.props.location.state}).then((function(e){"S"===e?(localStorage.removeItem("checkToken"),window.location.reload()):(alert("Code is invalid or expired. Please go back to get a new code!"),window.location.assign("/Recoverage"))}))},n.reset=function(e){if(e.preventDefault(),n.validate()){var t={email:n.props.location.state,password:n.state.fields.password,repassword:n.state.fields.repassword};""===t.code||""===t.password||""===t.repassword?alert("The field code, password, and repassword can't be empty!"):t.repassword!==t.password?alert("The two passwords do not match!"):function(e){return j.a.post("/api/changepass",{email:e.email,password:e.password,confirmpassword:e.repassword}).then((function(e){return"S"===e.data&&localStorage.setItem(e.data),e.data})).catch((function(e){return e.response.data}))}(t).then((function(e){alert("Your password has been reset! Please login again."),window.location.assign("/")}))}},n.state={fields:{code:"",password:"",repassword:""},error:{},password_error:[],repassword_error:[],passwordCheck:[{req:"\u2265 8 characters",valid:!1},{req:"At least 1 uppercase letter",valid:!1},{req:"At least 1 lowercase letter",valid:!1},{req:"At least 1 special character !@#$%^&*",valid:!1}]},n.passwordChecker=n.passwordChecker.bind(Object(h.a)(n)),n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(e){var t=this.state.fields;t[e.target.name]=e.target.value,this.setState({fields:t}),this.passwordChecker()}},{key:"passwordChecker",value:function(){var e=this.state.fields.password,t=this.state.passwordCheck;t[0].valid=e.length>=8,/(?=.*[A-Z])/.test(e)?t[1].valid=!0:t[1].valid=!1,/(?=.*[a-z])/.test(e)?t[2].valid=!0:t[2].valid=!1,/(?=.*[!@#$%^&*])/.test(e)?t[3].valid=!0:t[3].valid=!1,this.setState({passwordCheck:t})}},{key:"validate",value:function(){var e=this.state.fields,t={},a=!0;(""===e.password&&(a=!1,t.password="*Please enter a password"),""!==e.password)&&(new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$").test(e.password)?(""===e.repassword&&(a=!1,t.repassword="*Please re-enter password"),""!==e.repassword&&(e.repassword.match(e.password)||(a=!1,t.repassword="*Passwords must match"))):(a=!1,t.password="*This password does not meet the requirements"));return this.setState({error:t,password_error:[]}),a}},{key:"render",value:function(){var e=r.a.createElement("div",null),t=this.state.passwordCheck.map((function(e){return r.a.createElement("div",{key:e.req,className:e.valid?"valid-req":"invalid-req"},e.req)}));return r.a.createElement("div",{className:"col-lg-12 recoverage-container col-auto",style:it},r.a.createElement("div",{className:"recoverage-form-container col-lg-12 dark-tint"},r.a.createElement("br",null),r.a.createElement(be.a,{style:{marginTop:"7.5%"}},r.a.createElement(we.a,{className:"recoverage-card"},r.a.createElement("img",{className:"recoverage-picture",src:"http://cdn.onlinewebfonts.com/svg/img_228829.png",alt:"lock"}),r.a.createElement(tt.a,{className:"col-auto pl-0 recoverage-center-title"},r.a.createElement("h3",null," Forgot Password? ")),r.a.createElement("div",{className:"recoverage-inner-card"},localStorage.checkToken?r.a.createElement("div",null,r.a.createElement("div",null,"An access code has been to sent to your email."),r.a.createElement("p",null," Check your email and enter the code below: ")):r.a.createElement("div",null,r.a.createElement("p",null," Enter in a new password below: ")),r.a.createElement(st.a,{component:"nav"},localStorage.checkToken?r.a.createElement("div",null,r.a.createElement(Ke.a,{className:"recoverage-textfield",id:"code",label:"Access Code",name:"code",variant:"outlined",value:this.state.fields.code,onChange:this.handleChange,placeholder:"1234567"}),r.a.createElement("button",{type:"submit",className:"recoverage-button",onClick:this.checkCode},"SUBMIT")):e,localStorage.checkToken?e:r.a.createElement("div",null,r.a.createElement(Ke.a,{className:"recoverage-textfieldPass",id:"PopoverFocus",type:"password",variant:"outlined",label:"Password",name:"password",value:this.state.fields.password,onChange:this.handleChange,placeholder:"**********",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$",required:!0}),r.a.createElement("div",{className:"text-warning"}," ",this.state.error.password," "),r.a.createElement(x.a,{trigger:"focus",placement:"right",target:"PopoverFocus"},r.a.createElement(C.a,null,"Password Requirements"),r.a.createElement(O.a,null,t)),r.a.createElement(ct.a,null),r.a.createElement(Ke.a,{className:"recoverage-textfieldPass",id:"reenterpass",label:"Re-enter Password",variant:"outlined",name:"repassword",type:"password",value:this.state.fields.repassword,onChange:this.handleChange,placeholder:"**********"}),r.a.createElement("div",{className:"text-warning"}," ",this.state.error.repassword," "),r.a.createElement(ct.a,null),r.a.createElement("button",{type:"submit",className:"recoverage-button",onClick:this.reset},"SAVE"))))))))}}]),a}(n.Component),dt=Object(p.a)(mt),ut=a(256),ht={height:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center",backgroundImage:"url(".concat(a.n(ut).a,")")},pt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"Home",value:function(e){e.preventDefault(),this.props.history.push("/")}},{key:"render",value:function(){var e=r.a.createElement("div",{className:"home-form-container col-lg-12"},r.a.createElement("div",{className:"confirmation-container col-lg-12",onSubmit:this.search},r.a.createElement("div",{className:"col-lg-12 custom-row"},r.a.createElement("div",{className:"col-lg-3"}," "),r.a.createElement("div",{className:"col-lg-6 top-header"},r.a.createElement("div",{className:"confirmation-message text-center"},r.a.createElement("div",{className:"confirmation-message-header"},r.a.createElement("i",{className:"confirmation-message-icon far fa-check-circle"}),r.a.createElement("div",null," Great! Your booking is set. "),r.a.createElement("div",{className:"confirmation-message-header-sub"}," A confirmation has been sent to your email.")),r.a.createElement("div",{className:"confirmation-message-footer"},r.a.createElement("div",null,"Thank you for booking with Budget Suites."),r.a.createElement("div",null,"And we hope you enjoy your stay!"),r.a.createElement("br",null),r.a.createElement("p",{className:"confirmation-submit-button btn btn-primary py-3 px-5 mb-5",style:{cursor:"pointer"},onClick:this.Home.bind(this)},"Book Again")))),r.a.createElement("div",{className:"col-lg-3"}," "),r.a.createElement("div",{className:"",style:{width:0,height:0},id:"map"}))));return r.a.createElement("div",{className:"home-container",style:ht},e)}}]),a}(r.a.Component),gt=Object(p.a)(pt),Et=a(258),vt=a(78),ft=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+(t.getDate()+1),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},yt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){if(this.props.hotelData){var e=this.props.hotelData.images,t=[];return e&&(t=e.split(",")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:""},r.a.createElement("article",{className:""},r.a.createElement("div",{className:"blog-img",style:{cursor:"pointer",backgroundImage:"url(".concat(t[0],")")}}),r.a.createElement("div",{className:"desc"},r.a.createElement("h2",null,this.props.hotelData.name),r.a.createElement("div",{className:"meta"},r.a.createElement("p",null,r.a.createElement("span",null,"".concat(this.props.hotelData.address,", ").concat(this.props.hotelData.city,", ").concat(this.props.hotelData.state,", ").concat(this.props.hotelData.zipcode," ")),r.a.createElement("span",{style:{color:"#4586FF"}},this.props.hotelData.phone_number))),r.a.createElement(Fe.a,{isOpen:this.props.collapseFlag},r.a.createElement("p",null,this.props.hotelData.description))),r.a.createElement(E.a,{outline:!0,color:"primary",onClick:this.props.onCollapse(),style:{marginTop:"1rem"}},"Read More"))))))}return r.a.createElement("div",{className:"hotel-search-container"}," Loading ")}}]),a}(r.a.Component),bt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).roomSearch=function(e){var t="?date_in=".concat(n.state.date_in.format("YYYY-MM-DD"),"&date_out=").concat(n.state.date_out.format("YYYY-MM-DD"))+"&hotel_id=".concat(n.state.hotel_id)+"&transaction_id=".concat(n.state.transaction_id);n.props.history.push({pathname:"/ModifyRoomPage",search:"".concat(t)})},n.toggle=function(){n.setState((function(e){return{collapse:!e.collapse}}))},n.Checkout=function(e){e.preventDefault();var t,a=[],r=Object(vt.a)(n.state.roomsMap);try{for(r.s();!(t=r.n()).done;){var l=t.value;l[1].taken_quantity&&l[1].taken_quantity>0&&a.push({bed_type:l[1].bed_type.toString(),price:l[1].price,quantity:parseInt(l[1].taken_quantity)})}}catch(g){r.e(g)}finally{r.f()}var s=n.state.oldTotalPrice.toString(),o=n.state.oldAmountPaid.toString(),c=n.state.transaction_id.toString(),i=n.state.totalPriceWithTax.toString(),m=n.state.cancellationFee.toString(),d=n.state.date_in.format("YYYY-MM-DD").toString(),u=n.state.date_out.format("YYYY-MM-DD").toString(),h=n.state.hotel_id.toString(),p=n.state.roomsFromTransaction;n.props.history.push({pathname:"/Checkout",state:{totalPriceWithTax:i,cancellationFee:m,date_in:d,date_out:u,rooms:JSON.stringify(a),hotel_id:h,transaction_id:c,oldTotalPrice:s,oldAmountPaid:o,oldRooms:JSON.stringify(p)}})},n.handleEachRoomQuantity=function(e){return function(t){t.preventDefault();var a=t.target.value,r=n.state.roomsMap,l=r.get(e[0]);l.taken_quantity=a,r.set(e[0],l);var s,o=0,c=Object(vt.a)(n.state.roomsMap);try{for(c.s();!(s=c.n()).done;){var i=s.value;i[0]===e[0]?o+=i[1].price*parseFloat(a).toFixed(2):i[1].taken_quantity?o+=i[1].price*i[1].taken_quantity:o+=0}}catch(h){c.e(h)}finally{c.f()}var m=(.1*(o=parseFloat(o*n.state.reservation_days).toFixed(2))).toFixed(2),d=(1.1*o).toFixed(2),u=(.2*o).toFixed(2);n.setState({roomsMap:r,totalPriceWithoutTax:o,totalPriceWithTax:d,cancellationFee:u,salesTax:m})}};var r=new URLSearchParams(n.props.location.search),l=r.get("hotel_id"),s=se()(r.get("date_in"),"YYYY-MM-DD"),c=se()(r.get("date_out"),"YYYY-MM-DD"),i=c.diff(s,"days"),m=r.get("transaction_id");return n.state={hotel:{},rooms:{},hotel_id:l,date_in:s,date_out:c,transaction_id:m,reservation_days:i,collapse:!1,availableRooms:[],totalPriceWithoutTax:0,totalPriceWithTax:0,cancellationFee:0,roomsMap:null},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.fetchSearchResult()}},{key:"fetchSearchResult",value:function(){var e=Object(ee.a)(X.a.mark((function e(){var t,a,n,r,l,s,o,c,i,m,d,u,h,p,E,v,f,y,b,w,_,k,N,S,x,C,O,P,D;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(this.props.location.search),a=parseInt(t.get("transaction_id")),n=se()(t.get("date_in"),"YYYY-MM-DD"),r=se()(t.get("date_out"),"YYYY-MM-DD"),l=r.diff(n,"days"),s="/api/search/hotels/".concat(this.state.hotel_id,"/?date_in=1111-01-01&date_out=1111-01-02"),o="/api/search/hotels/".concat(this.state.hotel_id,"/?date_in=").concat(this.state.date_in.format("YYYY-MM-DD"),"&date_out=").concat(this.state.date_out.format("YYYY-MM-DD")),c="/api/search/hotels?date_in=1111-01-01&date_out=1111-01-02&hotel_id=".concat(this.state.hotel_id),i="/api/search/hotels?date_in=".concat(this.state.date_in.format("YYYY-MM-DD"),"&date_out=").concat(this.state.date_out.format("YYYY-MM-DD"),"&hotel_id=").concat(this.state.hotel_id),m={transaction_id:a},e.next=12,j.a.get(s);case 12:return d=e.sent.data,e.next=15,j.a.get(o);case 15:return u=e.sent.data,e.next=18,j.a.get(c);case 18:return h=e.sent.data,e.next=21,j.a.get(i);case 21:return p=e.sent.data,e.next=24,I=m,j.a.get("/api/transaction/roominfo",{params:I}).then((function(e){if(200===e.status)return e}));case 24:E=e.sent.data,v=ft(E[0].date_in),f=ft(E[0].date_out),y=parseFloat(E[0].total_price).toFixed(2),b=parseFloat(E[0].amount_paid).toFixed(2),w=Object(Et.a)(this.state.availableRooms),_=0,k=new Map,u.results&&u.results.length>0&&u.results.forEach((function(e){var t=""+e.bed_type.toString()+e.price.toString(),a={available_quantity:e.quantity,image:e.images,capacity:e.capacity,taken_quantity:0,bed_type:e.bed_type,price:e.price};k.set(t,a)})),E&&E.length>0&&v===this.state.date_in.format("YYYY-MM-DD")&&f===this.state.date_out.format("YYYY-MM-DD")&&E.forEach((function(e){var t=""+e.bed_type.toString()+e.room_price.toString(),a={taken_quantity:e.quantity,image:e.image,capacity:e.capacity,bed_type:e.bed_type,price:e.room_price};if(k.get(t)){var n=k.get(t);n=Object(g.a)(Object(g.a)({},n),{},{taken_quantity:parseInt(e.quantity)}),k.set(t,n)}else k.set(t,a);_+=e.room_price*e.quantity*1})),N=Object(vt.a)(k);try{for(N.s();!(S=N.n()).done;)x=S.value,C=x[1],x[1].available_quantity>x[1].taken_quantity?(C.option_quantity=x[1].available_quantity,k.set(x[0],C)):(C.option_quantity=x[1].taken_quantity,k.set(x[0],C))}catch(R){N.e(R)}finally{N.f()}_=(1*_*this.state.reservation_days).toFixed(2),O=(.1*_).toFixed(2),P=(1.1*_).toFixed(2),D=(.2*_).toFixed(2),this.setState({rooms:d,hotel:h,realrooms:u,realhotel:p,roomsFromTransaction:E,transaction_dateIn:se()(v,"YYYY-MM-DD"),transaction_dateOut:se()(f,"YYYY-MM-DD"),oldTotalPrice:y,availableRooms:w,totalPriceWithoutTax:_,totalPriceWithTax:P,cancellationFee:D,salesTax:O,transaction_id:a,oldAmountPaid:b,roomsMap:k,date_in:n,date_out:r,reservation_days:l});case 41:case"end":return e.stop()}var I}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.location.search!==this.props.location.search&&this.fetchSearchResult()}},{key:"createAvailableRooms",value:function(e){var t=[];this.state.transaction_date_in===this.state.date_in.format("YYYY-MM-DD")&&(this.state.transaction_date_out,this.state.date_out.format("YYYY-MM-DD"));for(var a=0;a<=e;a++)t.push(r.a.createElement("option",{key:a},a));return t}},{key:"createRoomCards",value:function(){var e,t=[],a=Object(vt.a)(this.state.roomsMap);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push(r.a.createElement("div",{className:"col-lg-4 mb-5",key:n[1].image},r.a.createElement("div",{className:n[1].taken_quantity&&n[1].taken_quantity>0?"room-card-active block-44":"room-card-inactive block-44"},r.a.createElement("div",{className:"room-page-image"},r.a.createElement("img",{src:n[1].image,alt:n[1].image})),r.a.createElement("div",{className:"text"},r.a.createElement("h2",null,n[1].bed_type),r.a.createElement("div",{className:"price"},r.a.createElement("sup",{className:"room-page-room-price"},"$"),r.a.createElement("span",{className:"room-page-room-price"},n[1].price.toFixed(2)),r.a.createElement("sub",null,"/per night")),r.a.createElement("ul",{className:"specs"},r.a.createElement("li",null,r.a.createElement("strong",null,"Ammenities:")," Closet with hangers, HD flat-screen TV, Telephone"),r.a.createElement("li",null,r.a.createElement("strong",null,"Capacity Per Room:")," ",n[1].capacity)),r.a.createElement("div",null,r.a.createElement("strong",null,"# Of Rooms "),r.a.createElement("select",{className:"room-page-room-quantity-dropdown",name:JSON.stringify(n[0]),value:n[1].taken_quantity,onChange:this.handleEachRoomQuantity(n)},this.createAvailableRooms(n[1].option_quantity)))))))}}catch(l){a.e(l)}finally{a.f()}return t}},{key:"createSummary",value:function(){var e,t=[],a=Object(vt.a)(this.state.roomsMap);try{for(a.s();!(e=a.n()).done;){var n=e.value;n[1].taken_quantity&&n[1].taken_quantity>0?t.push(r.a.createElement("tr",{key:n[1].image},r.a.createElement("td",null,n[1].bed_type),r.a.createElement("td",null,n[1].capacity),r.a.createElement("td",null,"$",n[1].price.toFixed(2)),r.a.createElement("td",null,n[1].taken_quantity," "),r.a.createElement("td",null,"$ ",n[1].taken_quantity*n[1].price.toFixed(2)))):t.push(r.a.createElement("tr",{key:n[1].image}))}}catch(l){a.e(l)}finally{a.f()}return t}},{key:"render",value:function(){var e=this;if(!this.state.hotel.results)return r.a.createElement("div",{className:"hotel-search-container"}," Loading ");var t=r.a.createElement("div",{className:"modify-room-page-checkout-description"},r.a.createElement(re.a,{borderless:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Room Type"),r.a.createElement("th",null,"Capacity"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,this.createSummary(),r.a.createElement("tr",{className:"hr-row"},r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," "),r.a.createElement("td",null,r.a.createElement("hr",null)," ")),r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null,r.a.createElement("span",null," Total Room Price "),r.a.createElement("span",{style:{color:"#38af7b"}},r.a.createElement("strong",null,"(",this.state.reservation_days," ",1===this.state.reservation_days?"Night":"Nights",")"))),r.a.createElement("td",null," $ ",parseFloat(this.state.totalPriceWithoutTax).toFixed(2))),r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," Sales Tax "),r.a.createElement("td",null," $ ",parseFloat(.1*this.state.totalPriceWithoutTax).toFixed(2))),r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",{style:{color:"#3b73d3"}},r.a.createElement("strong",null," Estimated Total ")),r.a.createElement("td",null,r.a.createElement("strong",null,"$ ",(1.1*this.state.totalPriceWithoutTax).toFixed(2)," "))),r.a.createElement("tr",null,r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",null," "),r.a.createElement("td",{style:{color:"#f977a1"}}," Estimated Cancellation Fee "),r.a.createElement("td",null," $ ",this.state.cancellationFee)))),r.a.createElement(E.a,{disabled:this.state.transaction_dateIn.format("YYYY-MM-DD")===this.state.date_in.format("YYYY-MM-DD")&&this.state.transaction_dateOut.format("YYYY-MM-DD")===this.state.date_out.format("YYYY-MM-DD")&&this.state.totalPriceWithTax===this.state.oldTotalPrice||0===parseInt(this.state.totalPriceWithTax),className:"home-submit-button btn btn-primary py-3 px-4",onClick:this.Checkout},"Modify Checkout")),a=r.a.createElement("div",{className:"room-page-container"},r.a.createElement("div",{className:"room-page-rooms-container"},r.a.createElement("div",null,this.state.rooms.results.length>0?r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",{className:"col-lg-12 room-page-rooms custom-row container"},this.createRoomCards())):r.a.createElement("div",null,"no result"),r.a.createElement("hr",null))));return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"block-32"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mb-3 mb-lg-0 col-lg-12"},r.a.createElement("label",{className:"input-labels"},"Check In \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0      Check Out"),r.a.createElement("div",{className:"field-icon-wrap check-wrap"},r.a.createElement(A.DateRangePicker,{startDate:this.state.date_in,startDateId:"modify_start_date",endDate:this.state.date_out,endDateId:"modify_end_date",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState((function(e){return Object(g.a)(Object(g.a)({},e),{},{date_in:a,date_out:n})}))},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mb-3 mb-lg-0 col-lg-12"},r.a.createElement("label",{className:"input-labels",style:{color:"darkgrey"}},"\xa0\xa0",this.state.transaction_dateIn.format("YYYY-MM-DD")," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0      ",this.state.transaction_dateOut.format("YYYY-MM-DD")))))),r.a.createElement(E.a,{onClick:this.roomSearch},"Search"),r.a.createElement(yt,{hotelData:this.state.hotel.results[0],collapseFlag:this.state.collapse,onCollapse:function(){return e.toggle}}),a,t)}}]),a}(r.a.Component),wt=Object(p.a)(bt),_t=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={id:"",email:""},n.handleChange=function(e){return function(t){n.setState({[e]:t.target.value})}},n.state={complete:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{class:"card text-left "},r.a.createElement("h5",{class:"card-header"},"Payment Method"),r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("h1",null,"Purchse Complete!"))))}}]),a}(n.Component),kt=Object(p.a)(_t),Nt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(F,null),r.a.createElement(u.a,{exact:!0,path:"/",component:Q}),r.a.createElement(u.a,{exact:!0,path:"/UserProfile",component:xe}),r.a.createElement(u.a,{exact:!0,path:"/Reservations",component:qe}),r.a.createElement(u.a,{path:"/HotelSearchDemo",component:he}),r.a.createElement(u.a,{path:"/HotelSearch",component:ue}),r.a.createElement(u.a,{path:"/Checkout",component:Ue}),r.a.createElement(u.a,{path:"/RoomPage",component:Ge}),r.a.createElement(u.a,{exact:!0,path:"/Recoverage",component:rt}),r.a.createElement(u.a,{exact:!0,path:"/Accesscode",component:dt}),r.a.createElement(u.a,{exact:!0,path:"/RewardHistory",component:Pe}),r.a.createElement(u.a,{exact:!0,path:"/Confirmation",component:gt}),r.a.createElement(u.a,{path:"/ModifyRoomPage",component:wt}),r.a.createElement(u.a,{exact:!0,path:"/CheckoutConfirm",component:kt})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[260,1,2]]]);
//# sourceMappingURL=main.bf058cc5.chunk.js.map